[
  {
    "objectID": "resume.html",
    "href": "resume.html",
    "title": "Resume",
    "section": "",
    "text": "Back to top"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "About",
    "section": "",
    "text": "I am a Data Analyst with one year of job experience. I’ve previously worked for Vroom and in a lab focusing on quantitative analysis. I have experience using a variety of techniques to analyze data, and I am always excited to learn more. I enjoy solving complex problems, often using visualizations which help to present complicated data in an accessible manner.\n\n\n Back to top"
  },
  {
    "objectID": "Notebooks/prometheusDiscoursePost.html",
    "href": "Notebooks/prometheusDiscoursePost.html",
    "title": "Fire Spinning Casserole Discourse Graphs",
    "section": "",
    "text": "This last Saturday was Prometheus’s annual Discourse. Each year the members of Prometheus get together to debate about food, and this semester the debate was about what a casserole is. As the discourse master, I decided to do something fun this year to celebrate the first proper discourse since my Freshman year. I used Bayesian Linear Regression using INLA to attempt to estimate the underlying distribution of voting scores for each casserole.\nIn Exploratory Data Analysis last week we used a package based on plotly to look at market basket analysis. I thought the interactive graphs were cool, so I decided to try playing around with plotly. The graphs I made are a little messy because I made them in less than 24 hours, but I think they’re an interesting first attempt at using plotly.\nTo see the source code and graphs, please click here\n\n\n\n Back to top"
  },
  {
    "objectID": "Notebooks/memeSurvivalAnalysis.html",
    "href": "Notebooks/memeSurvivalAnalysis.html",
    "title": "Survival Analysis Revisit",
    "section": "",
    "text": "This is a revisit of my QAC307 final1 now that I have actually taken a course on survival analysis and didn’t just teach myself how Kaplan-Meier curves worked at the last second because about 18% of my data was unexpectedly censored. While a better dataset (with more participants, information on meme literacy, and riddles that are more comparable to each other) would be ideal for revisiting my work on this final, I have not found a good excuse to try and recruit people to solve my riddles three. Instead, I am interested in how fitting a Cox PH model could potentially allow for me to attempt to control for the difference in difficulty between the riddles, and because a Cox PH model can also be fit using Bayesian methods.\nFirst, it is important to check the assumptions of the Cox Proportional Hazards models, namely that the hazards are proportional.\n\nCodemod1&lt;- survival::coxph(survival::Surv(Time,Solved) ~ factor(Riddle) + factor(primed), data=data) \nmyfit1r&lt;- survival::survfit(survival::Surv(Time,Solved) ~ factor(Riddle), data=data)\nsurvminer::ggsurvplot(myfit1r, conf.int=\"FALSE\", fun=\"cloglog\", data=data, palette=\"Pastel1\")\n\n\n\nCodemyfit1p&lt;- survival::survfit(survival::Surv(Time,Solved) ~factor(primed), data=data)\nsurvminer::ggsurvplot(myfit1p, conf.int=\"FALSE\", fun=\"cloglog\", data=data, palette=\"Pastel1\")\n\n\n\nCodesurvival::cox.zph(mod1, transform=\"rank\")\n\n                chisq df     p\nfactor(Riddle) 11.119  3 0.011\nfactor(primed)  0.765  1 0.382\nGLOBAL         11.972  4 0.018\n\n\nRiddle 1 clearly violates the PH assumptions. It is possible this is because of the size of the data set, or a poorly designed riddle (it’s the loss riddle, so that one benefited much more from prior knowledge than any other riddle). Because this analysis is being done for fun, I am going to simply remove Riddle 1 and retest the assumptions. If I were conducting this analysis for a class or project the appropriate solution would be to either conduct separate analyses on Riddle 1 and Riddles 2-4 or use a different model. There is also some cause for concern with the PH assumptions for the primed variable, but since there isn’t a super clear pattern, the violations are not statistically significant, and it’s such a small data set (and because this is not a serious analysis), I’m just going to leave it.\n\nCodedf &lt;- data %&gt;% filter(Riddle &gt; 1) %&gt;% mutate(Riddle=as.factor(Riddle), primed=as.factor(primed))\nmod1&lt;- survival::coxph(survival::Surv(Time,Solved) ~ Riddle + primed, data=df) \nmyfit1r&lt;- survival::survfit(survival::Surv(Time,Solved) ~ Riddle, data=df)\nsurvminer::ggsurvplot(myfit1r, conf.int=\"FALSE\", fun=\"cloglog\", data=df, palette=\"Pastel1\")\n\n\n\nCodemyfit1p&lt;- survival::survfit(survival::Surv(Time,Solved) ~primed, data=df)\nsurvminer::ggsurvplot(myfit1p, conf.int=\"FALSE\", fun=\"cloglog\", data=df, palette=\"Pastel1\")\n\n\n\n\nAfter removing Riddle 1, the PH assumptions of the riddles look fine. I am a little worried about the PH assumptions of the primed variable because the line for primed clearly crosses the line for not primed, but given the small data set it is difficult to tell if this is actually an issue.\n\nCodesummary(mod1)\n\nCall:\nsurvival::coxph(formula = survival::Surv(Time, Solved) ~ Riddle + \n    primed, data = df)\n\n  n= 39, number of events= 33 \n\n            coef exp(coef) se(coef)      z Pr(&gt;|z|)    \nRiddle3  0.75960   2.13742  0.46882  1.620 0.105178    \nRiddle4  1.74332   5.71628  0.49643  3.512 0.000445 ***\nprimed1 -0.04893   0.95225  0.38596 -0.127 0.899126    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n        exp(coef) exp(-coef) lower .95 upper .95\nRiddle3    2.1374     0.4679    0.8528     5.357\nRiddle4    5.7163     0.1749    2.1605    15.124\nprimed1    0.9523     1.0501    0.4469     2.029\n\nConcordance= 0.706  (se = 0.039 )\nLikelihood ratio test= 14.18  on 3 df,   p=0.003\nWald test            = 14.51  on 3 df,   p=0.002\nScore (logrank) test = 16.75  on 3 df,   p=8e-04\n\n\nAfter controlling for Riddle, whether or not someone was primed is not statistically significant (H^=0.952 , p-value= .899). It is important to remember this is a small sample size and that there is some cause for concern with the assumptions of this model, so to know if there is actually not a relationship here both of those issues would need to be solved. This does, however, indicate that if I do ever redo this experiment I really need to test my riddles on people ahead of time. This conclusion is supported by the hazard (the probability that an event will occur given survival up to whatever time) of riddles 3 and 4 being much higher compared to riddle 2. The probability of someone solving the riddle given it is riddle 2 is 54% lower than riddle 3, and 83% lower than riddle 4.\nINLA\nThere are two major ways to do Bayesian analysis in R, one is to use JAGS (Just Another Gibbs Sampler) and the other is to use INLA (Integrated Nested Laplace Approximation). The INLA R package comes with survival functions built in that are very similar to those in the survival package.\nI’m going to use a weakly informative prior because I have absolutely no idea what the distributions should be. In this particular scenario, the priors I use can actually affect the outcome more than usual because I have so few observations, so if I were doing a serious analysis I might need to be more careful about my priors. I’ll use the data from above removing the observations using Riddle 1 as the assumptions for the Cox PH remain the same for Bayesian analysis.\nlibrary(“INLA”)\n\nCodesinla.rid &lt;- INLA::inla.surv(df$Time, df$Solved)\n\ncoxinla.rid &lt;- INLA::inla(sinla.rid ~ 1  + as.factor(Riddle) + as.factor(primed), data = df,\n  family = \"coxph\",\n  control.hazard = list(hyper = list(prec = list(param = c(0.001, 0.001)))))\nsummary(coxinla.rid)\n\n\nCall:\n   c(\"inla.core(formula = formula, family = family, contrasts = contrasts, \n   \", \" data = data, quantiles = quantiles, E = E, offset = offset, \", \" \n   scale = scale, weights = weights, Ntrials = Ntrials, strata = strata, \n   \", \" lp.scale = lp.scale, link.covariates = link.covariates, verbose = \n   verbose, \", \" lincomb = lincomb, selection = selection, control.compute \n   = control.compute, \", \" control.predictor = control.predictor, \n   control.family = control.family, \", \" control.inla = control.inla, \n   control.fixed = control.fixed, \", \" control.mode = control.mode, \n   control.expert = control.expert, \", \" control.hazard = control.hazard, \n   control.lincomb = control.lincomb, \", \" control.update = \n   control.update, control.lp.scale = control.lp.scale, \", \" \n   control.pardiso = control.pardiso, only.hyperparam = only.hyperparam, \n   \", \" inla.call = inla.call, inla.arg = inla.arg, num.threads = \n   num.threads, \", \" keep = keep, working.directory = working.directory, \n   silent = silent, \", \" inla.mode = inla.mode, safe = FALSE, debug = \n   debug, .parent.frame = .parent.frame)\" ) \nTime used:\n    Pre = 0.839, Running = 1.4, Post = 0.0254, Total = 2.27 \nFixed effects:\n                     mean    sd 0.025quant 0.5quant 0.975quant   mode   kld\n(Intercept)        -3.624 1.140     -6.654   -3.406     -2.074 -3.110 0.009\nas.factor(Riddle)3  0.607 0.471     -0.317    0.607      1.532  0.607 0.000\nas.factor(Riddle)4  1.204 0.484      0.256    1.204      2.153  1.204 0.000\nas.factor(primed)1  0.274 0.370     -0.452    0.274      0.999  0.274 0.000\n\nRandom effects:\n  Name    Model\n    baseline.hazard RW1 model\n\nModel hyperparameters:\n                                mean     sd 0.025quant 0.5quant 0.975quant\nPrecision for baseline.hazard 453.49 480.08      32.65   300.98    1784.35\n                               mode\nPrecision for baseline.hazard 93.68\n\nMarginal log-Likelihood:  -52.40 \n is computed \nPosterior summaries for the linear predictor and the fitted values are computed\n(Posterior marginals needs also 'control.compute=list(return.marginals.predictor=TRUE)')\n\n\nAs you can see, comparing riddle 2 to riddle 4 is again the only statistically significant explanatory variable. While the coeffiecients the INLA came up with differ slightly from those estimated by the frequentist method above, the above coefficients are all within the 95% confidence interval created by the INLA method.\nIf I needed data on the level of uncertainty of my model, the INLA method would be superior. If I just wanted to make a model and I had a lot of data, the frequentist method might be better because Bayesian analysis can be computationally expensive (although the INLA is much less computationally expensive than JAGS). Overall, doing survival analysis in INLA is about as easy as it is using the survival package, and if I ever try to revist the experiment itself I am absolutely going to find a meme for this.\n\n\n Back to topFootnotes\n\nPlease note, this is a recreation of the original notebook which has unfortunately been lost due to data issues. The code and writing was all copied from a rendered version of this notebook I put on my portfolio, and the data is from the repo I created for this project. However, the data did not contain the priming status, and I cannot find where I wrote down which riddle was which, so I’ve reconstructed the priming status by matching the boxplot in my final presentation. However, I am fairly confident in this recreation as I’m pretty sure loss.jpg was the meme the first riddle was based on as it’s the first in my planning document. Also, there was one participant I remember giving up on it, and another getting it almost immediately, and the only place that overlaps for those participants is riddle 1, which group a was primed for. All of the charts look the same to the rendered notebook I still have access to, and the results are the same.↩︎"
  },
  {
    "objectID": "Notebooks/magicTheGathering.html",
    "href": "Notebooks/magicTheGathering.html",
    "title": "Magic The Gathering",
    "section": "",
    "text": "start\n\nCodeif (exists(\"startrun\")) {\n  print(fortune())\n} else {\n  source(here::here(\"Scripts\", \"starthere.R\"))\n}\n\nWarning in value[[3L]](cond): restarting interrupted promise evaluation\n\n\n* The library is already synchronized with the lockfile.\n\n\n[conflicted] Will prefer base::trunc over any other package.\n[conflicted] Will prefer tictoc::size over any other package.\n[conflicted] Will prefer base::setdiff over any other package.\n\nCodeif (file.exists(here::here(\"Data\", \"Cleaned\", \"MTGCards.csv\")) & params$datarefresh==FALSE) {\n  df &lt;- read_csv(here::here(\"Data\", \"Cleaned\", \"MTGCards.csv\"))\n  Txtdf &lt;- read_csv(here::here(\"Data\",\"Cleaned\",\"MTGCardsText.csv\"))\n  ColorlessTxtdf &lt;- read_csv(here::here(\"Data\",\"Cleaned\",\"MTGCardsTextColorless.csv\"))\n  keywords &lt;- list(read_csv(here::here(\"Data\",\"Cleaned\",\"MTGKeywords.csv\")) %&gt;% pull())\n                   # from scryfall api\n  } else {\n  source(here::here(\"Scripts\",\"MTGclean.R\"))\n\n}\n\nRows: 41081 Columns: 282\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (11): name, layout, mana_cost, type, rarity, text, flavor, set_name, co...\ndbl (261): multiverse_id, converted_mana_cost, power, toughness, red_cost, g...\nlgl  (10): names, colors, color_identity, supertypes, subtypes, variations, ...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\nRows: 31689 Columns: 5\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): name, combined_general_type, flavor, color, text\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\nRows: 5066 Columns: 5\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): name, combined_general_type, flavor, color, text\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\nRows: 251 Columns: 1\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): value\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nThe data comes from the magicthegathering.io api, and just some basic munging is done to it for analysis\n\nCodedf %&gt;% \n dplyr::select(-legalities, -printings, -rulings,-variations,-text, -names) %&gt;% \n  contents()\n\n\nThe data frame . has 41,081 observations and 276 variables.\n\nOverall\n pos varname                          type      n_unique n_miss pct_miss\n   1 name                             character 12136        0  0%      \n   2 multiverse_id                    numeric   40861        0  0%      \n   3 layout                           character    14        0  0%      \n   4 mana_cost                        character   525        0  0%      \n   5 converted_mana_cost              numeric      17        0  0%      \n   6 colors                           logical       1    41081  100%    \n   7 color_identity                   logical       1    41081  100%    \n   8 type                             character  2382        0  0%      \n   9 supertypes                       logical       1    41081  100%    \n  10 subtypes                         logical       1    41081  100%    \n  11 rarity                           character     6        0  0%      \n  12 flavor                           character 15724    16689  41%     \n  13 power                            numeric      22    17796  43%     \n  14 toughness                        numeric      23    17796  43%     \n  15 source                           logical       1    41081  100%    \n  16 set_name                         character   290        0  0%      \n  17 red_cost                         numeric       5        0  0%      \n  18 green_cost                       numeric       5        0  0%      \n  19 blue_cost                        numeric       5        0  0%      \n  20 white_cost                       numeric       5        0  0%      \n  21 black_cost                       numeric       5        0  0%      \n  22 colorless_cost                   numeric      17        0  0%      \n  23 multicolor                       numeric       2        0  0%      \n  24 color_red                        numeric       2        0  0%      \n  25 color_green                      numeric       2        0  0%      \n  26 color_blue                       numeric       2        0  0%      \n  27 color_white                      numeric       2        0  0%      \n  28 color_black                      numeric       2        0  0%      \n  29 color_colorless                  numeric       2        0  0%      \n  30 color_identity_red               numeric       2        0  0%      \n  31 color_identity_green             numeric       2        0  0%      \n  32 color_identity_blue              numeric       2        0  0%      \n  33 color_identity_white             numeric       2        0  0%      \n  34 color_identity_black             numeric       2        0  0%      \n  35 variable_power                   numeric       2        0  0%      \n  36 variable_toughness               numeric       2        0  0%      \n  37 creature                         numeric       2        0  0%      \n  38 land                             numeric       1        0  0%      \n  39 artifact                         numeric       2        0  0%      \n  40 enchantment                      numeric       2        0  0%      \n  41 planeswalker                     numeric       2        0  0%      \n  42 battle                           numeric       2        0  0%      \n  43 instant                          numeric       2        0  0%      \n  44 sorcery                          numeric       2        0  0%      \n  45 combined_general_type            character    12        4  0%      \n  46 multitype                        numeric       2        0  0%      \n  47 mana_cost_q                      character     4        0  0%      \n  48 mana_cost_t                      character     3        0  0%      \n  49 number_of_same_cards             numeric      59        0  0%      \n  50 keyword_First strike             numeric       2        0  0%      \n  51 keyword_NA                       numeric       1        0  0%      \n  52 keyword_Flying                   numeric       2        0  0%      \n  53 keyword_Defender                 numeric       2        0  0%      \n  54 keyword_Sacrifice                numeric       2        0  0%      \n  55 keyword_Destroy                  numeric       2        0  0%      \n  56 keyword_Squad                    numeric       2        0  0%      \n  57 keyword_Double                   numeric       2        0  0%      \n  58 keyword_Shuffle                  numeric       2        0  0%      \n  59 keyword_Flash                    numeric       2        0  0%      \n  60 keyword_Enchant                  numeric       2        0  0%      \n  61 keyword_Tap                      numeric       2        0  0%      \n  62 keyword_Create                   numeric       2        0  0%      \n  63 keyword_Vigilance                numeric       2        0  0%      \n  64 keyword_Treasure                 numeric       2        0  0%      \n  65 keyword_Attach                   numeric       2        0  0%      \n  66 keyword_Counter                  numeric       2        0  0%      \n  67 keyword_Untap                    numeric       2        0  0%      \n  68 keyword_Islandwalk               numeric       2        0  0%      \n  69 keyword_Exile                    numeric       2        0  0%      \n  70 keyword_Swampwalk                numeric       2        0  0%      \n  71 keyword_Regenerate               numeric       2        0  0%      \n  72 keyword_Ravenous                 numeric       2        0  0%      \n  73 keyword_Fear                     numeric       2        0  0%      \n  74 keyword_Activate                 numeric       2        0  0%      \n  75 keyword_Haste                    numeric       2        0  0%      \n  76 keyword_Mountainwalk             numeric       2        0  0%      \n  77 keyword_Discard                  numeric       2        0  0%      \n  78 keyword_Trample                  numeric       2        0  0%      \n  79 keyword_Menace                   numeric       2        0  0%      \n  80 keyword_Reach                    numeric       2        0  0%      \n  81 keyword_Shroud                   numeric       2        0  0%      \n  82 keyword_Forestwalk               numeric       2        0  0%      \n  83 keyword_Hexproof                 numeric       2        0  0%      \n  84 keyword_Equip                    numeric       2        0  0%      \n  85 keyword_Banding                  numeric       2        0  0%      \n  86 keyword_Ward                     numeric       2        0  0%      \n  87 keyword_Cast                     numeric       2        0  0%      \n  88 keyword_Protection               numeric       2        0  0%      \n  89 keyword_Exchange                 numeric       2        0  0%      \n  90 keyword_Shadow                   numeric       2        0  0%      \n  91 keyword_Surge                    numeric       2        0  0%      \n  92 keyword_Annihilator              numeric       2        0  0%      \n  93 keyword_Indestructible           numeric       2        0  0%      \n  94 keyword_Outlast                  numeric       2        0  0%      \n  95 keyword_Scry                     numeric       2        0  0%      \n  96 keyword_Totem armor              numeric       2        0  0%      \n  97 keyword_Flashback                numeric       2        0  0%      \n  98 keyword_Prowess                  numeric       2        0  0%      \n  99 keyword_Evoke                    numeric       2        0  0%      \n 100 keyword_Bolster                  numeric       2        0  0%      \n 101 keyword_Embalm                   numeric       2        0  0%      \n 102 keyword_Mill                     numeric       2        0  0%      \n 103 keyword_Unearth                  numeric       2        0  0%      \n 104 keyword_Deathtouch               numeric       2        0  0%      \n 105 keyword_Cycling                  numeric       2        0  0%      \n 106 keyword_Reveal                   numeric       2        0  0%      \n 107 keyword_Undying                  numeric       2        0  0%      \n 108 keyword_Basic landcycling        numeric       2        0  0%      \n 109 keyword_Mentor                   numeric       2        0  0%      \n 110 keyword_Suspend                  numeric       2        0  0%      \n 111 keyword_Champion                 numeric       2        0  0%      \n 112 keyword_Bestow                   numeric       2        0  0%      \n 113 keyword_Rebound                  numeric       2        0  0%      \n 114 keyword_Storm                    numeric       2        0  0%      \n 115 keyword_Cascade                  numeric       2        0  0%      \n 116 keyword_Evolve                   numeric       2        0  0%      \n 117 keyword_Convoke                  numeric       2        0  0%      \n 118 keyword_Play                     numeric       2        0  0%      \n 119 keyword_Changeling               numeric       2        0  0%      \n 120 keyword_Companion                numeric       2        0  0%      \n 121 keyword_Scavenge                 numeric       2        0  0%      \n 122 keyword_Lifelink                 numeric       2        0  0%      \n 123 keyword_Dethrone                 numeric       2        0  0%      \n 124 keyword_Haunt                    numeric       2        0  0%      \n 125 keyword_Exalted                  numeric       2        0  0%      \n 126 keyword_Double strike            numeric       2        0  0%      \n 127 keyword_Fabricate                numeric       2        0  0%      \n 128 keyword_Overload                 numeric       2        0  0%      \n 129 keyword_Improvise                numeric       2        0  0%      \n 130 keyword_Intimidate               numeric       2        0  0%      \n 131 keyword_Exploit                  numeric       2        0  0%      \n 132 keyword_Infect                   numeric       2        0  0%      \n 133 keyword_Swampcycling             numeric       2        0  0%      \n 134 keyword_Devour                   numeric       2        0  0%      \n 135 keyword_Forestcycling            numeric       2        0  0%      \n 136 keyword_Living weapon            numeric       2        0  0%      \n 137 keyword_Sunburst                 numeric       2        0  0%      \n 138 keyword_Multikicker              numeric       2        0  0%      \n 139 keyword_Investigate              numeric       2        0  0%      \n 140 keyword_Proliferate              numeric       2        0  0%      \n 141 keyword_Miracle                  numeric       2        0  0%      \n 142 keyword_Rampage                  numeric       2        0  0%      \n 143 keyword_Frenzy                   numeric       2        0  0%      \n 144 keyword_Echo                     numeric       2        0  0%      \n 145 keyword_Crew                     numeric       2        0  0%      \n 146 keyword_Escalate                 numeric       2        0  0%      \n 147 keyword_Myriad                   numeric       2        0  0%      \n 148 keyword_Abandon                  numeric       1        0  0%      \n 149 keyword_Clash                    numeric       2        0  0%      \n 150 keyword_Entwine                  numeric       2        0  0%      \n 151 keyword_Affinity                 numeric       2        0  0%      \n 152 keyword_Modular                  numeric       2        0  0%      \n 153 keyword_Offering                 numeric       2        0  0%      \n 154 keyword_Morph                    numeric       2        0  0%      \n 155 keyword_Plainscycling            numeric       2        0  0%      \n 156 keyword_Islandcycling            numeric       2        0  0%      \n 157 keyword_Mountaincycling          numeric       2        0  0%      \n 158 keyword_Megamorph                numeric       2        0  0%      \n 159 keyword_Venture into the dungeon numeric       2        0  0%      \n 160 keyword_Melee                    numeric       2        0  0%      \n 161 keyword_Monstrosity              numeric       2        0  0%      \n 162 keyword_Eternalize               numeric       2        0  0%      \n 163 keyword_Extort                   numeric       2        0  0%      \n 164 keyword_Goad                     numeric       2        0  0%      \n 165 keyword_Spectacle                numeric       2        0  0%      \n 166 keyword_Retrace                  numeric       2        0  0%      \n 167 keyword_Ascend                   numeric       2        0  0%      \n 168 keyword_Hideaway                 numeric       2        0  0%      \n 169 keyword_Fight                    numeric       2        0  0%      \n 170 keyword_Learn                    numeric       2        0  0%      \n 171 keyword_Battle Cry               numeric       2        0  0%      \n 172 keyword_Aftermath                numeric       2        0  0%      \n 173 keyword_Afterlife                numeric       2        0  0%      \n 174 keyword_Exert                    numeric       2        0  0%      \n 175 keyword_Afflict                  numeric       2        0  0%      \n 176 keyword_Cumulative upkeep        numeric       2        0  0%      \n 177 keyword_Kicker                   numeric       2        0  0%      \n 178 keyword_Blitz                    numeric       2        0  0%      \n 179 keyword_Surveil                  numeric       2        0  0%      \n 180 keyword_Amplify                  numeric       2        0  0%      \n 181 keyword_Conspire                 numeric       2        0  0%      \n 182 keyword_Graft                    numeric       2        0  0%      \n 183 keyword_Desertwalk               numeric       2        0  0%      \n 184 keyword_Soulbond                 numeric       2        0  0%      \n 185 keyword_Madness                  numeric       2        0  0%      \n 186 keyword_Riot                     numeric       2        0  0%      \n 187 keyword_Partner                  numeric       2        0  0%      \n 188 keyword_Assist                   numeric       2        0  0%      \n 189 keyword_Support                  numeric       2        0  0%      \n 190 keyword_Awaken                   numeric       2        0  0%      \n 191 keyword_Devoid                   numeric       2        0  0%      \n 192 keyword_Ingest                   numeric       2        0  0%      \n 193 keyword_Tribute                  numeric       2        0  0%      \n 194 keyword_Splice                   numeric       2        0  0%      \n 195 keyword_Bushido                  numeric       2        0  0%      \n 196 keyword_Soulshift                numeric       2        0  0%      \n 197 keyword_Ninjutsu                 numeric       2        0  0%      \n 198 keyword_Vanishing                numeric       2        0  0%      \n 199 keyword_More Than Meets the Eye  numeric       2        0  0%      \n 200 keyword_Prowl                    numeric       2        0  0%      \n 201 keyword_Living metal             numeric       1        0  0%      \n 202 keyword_Convert                  numeric       2        0  0%      \n 203 keyword_Prototype                numeric       2        0  0%      \n 204 keyword_Unleash                  numeric       2        0  0%      \n 205 keyword_Horsemanship             numeric       2        0  0%      \n 206 keyword_Forecast                 numeric       2        0  0%      \n 207 keyword_Split second             numeric       2        0  0%      \n 208 keyword_Persist                  numeric       2        0  0%      \n 209 keyword_Reinforce                numeric       2        0  0%      \n 210 keyword_Undaunted                numeric       2        0  0%      \n 211 keyword_Flanking                 numeric       2        0  0%      \n 212 keyword_Delve                    numeric       2        0  0%      \n 213 keyword_Dredge                   numeric       2        0  0%      \n 214 keyword_Cipher                   numeric       2        0  0%      \n 215 keyword_Bloodthirst              numeric       2        0  0%      \n 216 keyword_Dash                     numeric       2        0  0%      \n 217 keyword_Commander ninjutsu       numeric       2        0  0%      \n 218 keyword_Manifest                 numeric       2        0  0%      \n 219 keyword_Populate                 numeric       2        0  0%      \n 220 keyword_Jump-start               numeric       2        0  0%      \n 221 keyword_Mutate                   numeric       2        0  0%      \n 222 keyword_Food                     numeric       2        0  0%      \n 223 keyword_Demonstrate              numeric       2        0  0%      \n 224 keyword_Encore                   numeric       2        0  0%      \n 225 keyword_Adapt                    numeric       2        0  0%      \n 226 keyword_Toxic                    numeric       2        0  0%      \n 227 keyword_Conjure                  numeric       2        0  0%      \n 228 keyword_Replicate                numeric       2        0  0%      \n 229 keyword_Escape                   numeric       2        0  0%      \n 230 keyword_Foretell                 numeric       2        0  0%      \n 231 keyword_Skulk                    numeric       2        0  0%      \n 232 keyword_Buyback                  numeric       2        0  0%      \n 233 keyword_Planeswalk               numeric       1        0  0%      \n 234 keyword_Training                 numeric       2        0  0%      \n 235 keyword_Emerge                   numeric       2        0  0%      \n 236 keyword_Renown                   numeric       2        0  0%      \n 237 keyword_Fuse                     numeric       2        0  0%      \n 238 keyword_Hidden agenda            numeric       1        0  0%      \n 239 keyword_Double agenda            numeric       1        0  0%      \n 240 keyword_Recover                  numeric       2        0  0%      \n 241 keyword_Ripple                   numeric       2        0  0%      \n 242 keyword_Fading                   numeric       2        0  0%      \n 243 keyword_Detain                   numeric       2        0  0%      \n 244 keyword_Transform                numeric       2        0  0%      \n 245 keyword_Enlist                   numeric       2        0  0%      \n 246 keyword_Phasing                  numeric       2        0  0%      \n 247 keyword_Compleated               numeric       2        0  0%      \n 248 keyword_Bargain                  numeric       2        0  0%      \n 249 keyword_Wither                   numeric       2        0  0%      \n 250 keyword_Wizardcycling            numeric       2        0  0%      \n 251 keyword_Gravestorm               numeric       2        0  0%      \n 252 keyword_Transfigure              numeric       2        0  0%      \n 253 keyword_Slivercycling            numeric       2        0  0%      \n 254 keyword_Fortify                  numeric       2        0  0%      \n 255 keyword_Transmute                numeric       2        0  0%      \n 256 keyword_Nonbasic landwalk        numeric       2        0  0%      \n 257 keyword_Assemble                 numeric       2        0  0%      \n 258 keyword_Seek                     numeric       2        0  0%      \n 259 keyword_Boast                    numeric       2        0  0%      \n 260 keyword_Provoke                  numeric       2        0  0%      \n 261 keyword_Plainswalk               numeric       2        0  0%      \n 262 keyword_Disturb                  numeric       2        0  0%      \n 263 keyword_Daybound                 numeric       2        0  0%      \n 264 keyword_Nightbound               numeric       1        0  0%      \n 265 keyword_Backup                   numeric       2        0  0%      \n 266 keyword_Incubate                 numeric       2        0  0%      \n 267 keyword_Casualty                 numeric       2        0  0%      \n 268 keyword_Reconfigure              numeric       2        0  0%      \n 269 keyword_Epic                     numeric       2        0  0%      \n 270 keyword_Legendary landwalk       numeric       2        0  0%      \n 271 keyword_Augment                  numeric       1        0  0%      \n 272 keyword_Open an Attraction       numeric       2        0  0%      \n 273 keyword_Cleave                   numeric       2        0  0%      \n 274 keyword_Amass                    numeric       2        0  0%      \n 275 number_of_keywords               numeric       7        0  0%      \n 276 multicolor_with_colorless        numeric       2        0  0%      \n\nNumeric Variables\n                                     n      mean        sd   skew min    p25\nmultiverse_id                    41081 336394.65 208195.09  -0.44   1 130385\nconverted_mana_cost              41081      3.76      1.62   1.01   0      3\npower                            23285      2.75      1.78   1.25  -1      2\ntoughness                        23285      2.97      1.78   1.19  -1      2\nred_cost                         41081      0.25      0.55   2.27   0      0\ngreen_cost                       41081      0.26      0.57   2.34   0      0\nblue_cost                        41081      0.25      0.56   2.28   0      0\nwhite_cost                       41081      0.25      0.55   2.28   0      0\nblack_cost                       41081      0.26      0.58   2.30   0      0\ncolorless_cost                   41081      2.48      1.43   1.45   0      1\nmulticolor                       41081      0.10      0.30   2.66   0      0\ncolor_red                        41081      0.20      0.40   1.53   0      0\ncolor_green                      41081      0.20      0.40   1.49   0      0\ncolor_blue                       41081      0.20      0.40   1.53   0      0\ncolor_white                      41081      0.20      0.40   1.51   0      0\ncolor_black                      41081      0.20      0.40   1.52   0      0\ncolor_colorless                  41081      1.00      0.07 -15.05   0      1\ncolor_identity_red               41081      0.21      0.41   1.44   0      0\ncolor_identity_green             41081      0.21      0.41   1.42   0      0\ncolor_identity_blue              41081      0.32      0.47   0.78   0      0\ncolor_identity_white             41081      0.21      0.41   1.43   0      0\ncolor_identity_black             41081      0.21      0.41   1.42   0      0\nvariable_power                   41081      0.00      0.05  21.66   0      0\nvariable_toughness               41081      0.00      0.05  21.66   0      0\ncreature                         41081      0.56      0.50  -0.26   0      0\nland                             41081      0.00      0.00    NaN   0      0\nartifact                         41081      0.14      0.35   2.07   0      0\nenchantment                      41081      0.11      0.31   2.53   0      0\nplaneswalker                     41081      0.01      0.11   8.51   0      0\nbattle                           41081      0.00      0.03  38.26   0      0\ninstant                          41081      0.11      0.31   2.55   0      0\nsorcery                          41081      0.12      0.32   2.38   0      0\nmultitype                        41081      0.05      0.22   4.16   0      0\nnumber_of_same_cards             41081     35.32    117.09   4.10   1      2\nkeyword_First strike             41081      0.01      0.10   9.93   0      0\nkeyword_NA                       41081      0.00      0.00    NaN   0      0\nkeyword_Flying                   41081      0.12      0.32   2.41   0      0\nkeyword_Defender                 41081      0.01      0.11   9.00   0      0\nkeyword_Sacrifice                41081      0.06      0.24   3.60   0      0\nkeyword_Destroy                  41081      0.05      0.21   4.22   0      0\nkeyword_Squad                    41081      0.00      0.02  40.50   0      0\nkeyword_Double                   41081      0.00      0.03  29.51   0      0\nkeyword_Shuffle                  41081      0.00      0.04  24.34   0      0\nkeyword_Flash                    41081      0.02      0.13   7.56   0      0\nkeyword_Enchant                  41081      0.04      0.19   4.84   0      0\nkeyword_Tap                      41081      0.02      0.13   7.51   0      0\nkeyword_Create                   41081      0.04      0.19   4.82   0      0\nkeyword_Vigilance                41081      0.01      0.11   9.18   0      0\nkeyword_Treasure                 41081      0.01      0.09  11.04   0      0\nkeyword_Attach                   41081      0.01      0.09  10.92   0      0\nkeyword_Counter                  41081      0.01      0.11   8.61   0      0\nkeyword_Untap                    41081      0.01      0.11   8.58   0      0\nkeyword_Islandwalk               41081      0.00      0.04  25.68   0      0\nkeyword_Exile                    41081      0.04      0.20   4.61   0      0\nkeyword_Swampwalk                41081      0.00      0.04  23.34   0      0\nkeyword_Regenerate               41081      0.01      0.10   9.59   0      0\nkeyword_Ravenous                 41081      0.00      0.03  30.86   0      0\nkeyword_Fear                     41081      0.00      0.05  21.66   0      0\nkeyword_Activate                 41081      0.02      0.14   6.70   0      0\nkeyword_Haste                    41081      0.01      0.10   9.60   0      0\nkeyword_Mountainwalk             41081      0.00      0.02  44.19   0      0\nkeyword_Discard                  41081      0.03      0.17   5.70   0      0\nkeyword_Trample                  41081      0.02      0.14   6.66   0      0\nkeyword_Menace                   41081      0.01      0.08  12.75   0      0\nkeyword_Reach                    41081      0.01      0.09  10.82   0      0\nkeyword_Shroud                   41081      0.00      0.04  24.89   0      0\nkeyword_Forestwalk               41081      0.00      0.03  32.41   0      0\nkeyword_Hexproof                 41081      0.00      0.05  20.61   0      0\nkeyword_Equip                    41081      0.02      0.14   7.12   0      0\nkeyword_Banding                  41081      0.00      0.02  54.14   0      0\nkeyword_Ward                     41081      0.00      0.05  21.79   0      0\nkeyword_Cast                     41081      0.00      0.07  14.12   0      0\nkeyword_Protection               41081      0.00      0.06  16.80   0      0\nkeyword_Exchange                 41081      0.00      0.03  29.83   0      0\nkeyword_Shadow                   41081      0.00      0.04  25.28   0      0\nkeyword_Surge                    41081      0.00      0.02  49.13   0      0\nkeyword_Annihilator              41081      0.00      0.03  33.27   0      0\nkeyword_Indestructible           41081      0.00      0.05  19.07   0      0\nkeyword_Outlast                  41081      0.00      0.03  36.96   0      0\nkeyword_Scry                     41081      0.00      0.07  15.01   0      0\nkeyword_Totem armor              41081      0.00      0.03  36.36   0      0\nkeyword_Flashback                41081      0.01      0.08  11.99   0      0\nkeyword_Prowess                  41081      0.00      0.04  22.31   0      0\nkeyword_Evoke                    41081      0.00      0.05  20.09   0      0\nkeyword_Bolster                  41081      0.00      0.02  56.19   0      0\nkeyword_Embalm                   41081      0.00      0.02  42.23   0      0\nkeyword_Mill                     41081      0.00      0.05  21.06   0      0\nkeyword_Unearth                  41081      0.00      0.05  20.40   0      0\nkeyword_Deathtouch               41081      0.01      0.08  12.26   0      0\nkeyword_Cycling                  41081      0.01      0.10  10.32   0      0\nkeyword_Reveal                   41081      0.01      0.08  12.14   0      0\nkeyword_Undying                  41081      0.00      0.03  35.24   0      0\nkeyword_Basic landcycling        41081      0.00      0.03  28.90   0      0\nkeyword_Mentor                   41081      0.00      0.03  33.74   0      0\nkeyword_Suspend                  41081      0.00      0.05  18.74   0      0\nkeyword_Champion                 41081      0.00      0.05  19.34   0      0\nkeyword_Bestow                   41081      0.00      0.03  32.41   0      0\nkeyword_Rebound                  41081      0.00      0.03  32.41   0      0\nkeyword_Storm                    41081      0.00      0.06  16.86   0      0\nkeyword_Cascade                  41081      0.00      0.05  22.05   0      0\nkeyword_Evolve                   41081      0.00      0.03  38.97   0      0\nkeyword_Convoke                  41081      0.00      0.06  17.49   0      0\nkeyword_Play                     41081      0.00      0.03  36.96   0      0\nkeyword_Changeling               41081      0.00      0.05  21.29   0      0\nkeyword_Companion                41081      0.00      0.03  33.74   0      0\nkeyword_Scavenge                 41081      0.00      0.02  45.29   0      0\nkeyword_Lifelink                 41081      0.00      0.06  15.45   0      0\nkeyword_Dethrone                 41081      0.00      0.02  54.14   0      0\nkeyword_Haunt                    41081      0.00      0.02  54.14   0      0\nkeyword_Exalted                  41081      0.00      0.03  32.00   0      0\nkeyword_Double strike            41081      0.00      0.05  19.90   0      0\nkeyword_Fabricate                41081      0.00      0.03  37.60   0      0\nkeyword_Overload                 41081      0.00      0.02  40.50   0      0\nkeyword_Improvise                41081      0.00      0.03  34.72   0      0\nkeyword_Intimidate               41081      0.00      0.03  34.21   0      0\nkeyword_Exploit                  41081      0.00      0.02  41.34   0      0\nkeyword_Infect                   41081      0.00      0.04  28.05   0      0\nkeyword_Swampcycling             41081      0.00      0.02  54.14   0      0\nkeyword_Devour                   41081      0.00      0.03  31.61   0      0\nkeyword_Forestcycling            41081      0.00      0.02  58.48   0      0\nkeyword_Living weapon            41081      0.00      0.03  32.41   0      0\nkeyword_Sunburst                 41081      0.00      0.02  40.50   0      0\nkeyword_Multikicker              41081      0.00      0.03  33.27   0      0\nkeyword_Investigate              41081      0.00      0.02  40.50   0      0\nkeyword_Proliferate              41081      0.00      0.03  30.86   0      0\nkeyword_Miracle                  41081      0.00      0.02  43.18   0      0\nkeyword_Rampage                  41081      0.00      0.02  43.18   0      0\nkeyword_Frenzy                   41081      0.00      0.01 143.30   0      0\nkeyword_Echo                     41081      0.00      0.05  20.30   0      0\nkeyword_Crew                     41081      0.00      0.06  17.76   0      0\nkeyword_Escalate                 41081      0.00      0.02  54.14   0      0\nkeyword_Myriad                   41081      0.00      0.02  47.74   0      0\nkeyword_Abandon                  41081      0.00      0.00    NaN   0      0\nkeyword_Clash                    41081      0.00      0.02  46.47   0      0\nkeyword_Entwine                  41081      0.00      0.03  31.23   0      0\nkeyword_Affinity                 41081      0.00      0.04  24.52   0      0\nkeyword_Modular                  41081      0.00      0.03  36.36   0      0\nkeyword_Offering                 41081      0.00      0.01  82.72   0      0\nkeyword_Morph                    41081      0.01      0.07  13.43   0      0\nkeyword_Plainscycling            41081      0.00      0.02  46.47   0      0\nkeyword_Islandcycling            41081      0.00      0.01  76.59   0      0\nkeyword_Mountaincycling          41081      0.00      0.02  50.64   0      0\nkeyword_Megamorph                41081      0.00      0.03  33.74   0      0\nkeyword_Venture into the dungeon 41081      0.00      0.01  71.64   0      0\nkeyword_Melee                    41081      0.00      0.02  50.64   0      0\nkeyword_Monstrosity              41081      0.00      0.04  26.11   0      0\nkeyword_Eternalize               41081      0.00      0.02  43.18   0      0\nkeyword_Extort                   41081      0.00      0.02  44.19   0      0\nkeyword_Goad                     41081      0.00      0.02  40.50   0      0\nkeyword_Spectacle                41081      0.00      0.02  56.19   0      0\nkeyword_Retrace                  41081      0.00      0.03  37.60   0      0\nkeyword_Ascend                   41081      0.00      0.02  44.19   0      0\nkeyword_Hideaway                 41081      0.00      0.02  58.48   0      0\nkeyword_Fight                    41081      0.00      0.01 101.32   0      0\nkeyword_Learn                    41081      0.00      0.02  54.14   0      0\nkeyword_Battle Cry               41081      0.00      0.01 143.30   0      0\nkeyword_Aftermath                41081      0.00      0.04  27.27   0      0\nkeyword_Afterlife                41081      0.00      0.02  58.48   0      0\nkeyword_Exert                    41081      0.00      0.02  61.08   0      0\nkeyword_Afflict                  41081      0.00      0.02  54.14   0      0\nkeyword_Cumulative upkeep        41081      0.00      0.05  20.72   0      0\nkeyword_Kicker                   41081      0.01      0.08  12.33   0      0\nkeyword_Blitz                    41081      0.00      0.02  41.34   0      0\nkeyword_Surveil                  41081      0.00      0.03  39.71   0      0\nkeyword_Amplify                  41081      0.00      0.02  61.08   0      0\nkeyword_Conspire                 41081      0.00      0.02  61.08   0      0\nkeyword_Graft                    41081      0.00      0.02  42.23   0      0\nkeyword_Desertwalk               41081      0.00      0.00 202.67   0      0\nkeyword_Soulbond                 41081      0.00      0.03  36.96   0      0\nkeyword_Madness                  41081      0.00      0.06  17.42   0      0\nkeyword_Riot                     41081      0.00      0.02  56.19   0      0\nkeyword_Partner                  41081      0.00      0.06  15.54   0      0\nkeyword_Assist                   41081      0.00      0.02  54.14   0      0\nkeyword_Support                  41081      0.00      0.02  64.07   0      0\nkeyword_Awaken                   41081      0.00      0.02  46.47   0      0\nkeyword_Devoid                   41081      0.00      0.05  20.61   0      0\nkeyword_Ingest                   41081      0.00      0.01  76.59   0      0\nkeyword_Tribute                  41081      0.00      0.02  58.48   0      0\nkeyword_Splice                   41081      0.00      0.03  34.72   0      0\nkeyword_Bushido                  41081      0.00      0.03  35.24   0      0\nkeyword_Soulshift                41081      0.00      0.03  38.26   0      0\nkeyword_Ninjutsu                 41081      0.00      0.04  22.88   0      0\nkeyword_Vanishing                41081      0.00      0.03  36.36   0      0\nkeyword_More Than Meets the Eye  41081      0.00      0.03  37.60   0      0\nkeyword_Prowl                    41081      0.00      0.02  47.74   0      0\nkeyword_Living metal             41081      0.00      0.00    NaN   0      0\nkeyword_Convert                  41081      0.00      0.01 117.00   0      0\nkeyword_Prototype                41081      0.00      0.03  35.79   0      0\nkeyword_Unleash                  41081      0.00      0.02  41.34   0      0\nkeyword_Horsemanship             41081      0.00      0.03  32.00   0      0\nkeyword_Forecast                 41081      0.00      0.02  64.07   0      0\nkeyword_Split second             41081      0.00      0.03  32.00   0      0\nkeyword_Persist                  41081      0.00      0.03  30.86   0      0\nkeyword_Reinforce                41081      0.00      0.02  61.08   0      0\nkeyword_Undaunted                41081      0.00      0.01  71.64   0      0\nkeyword_Flanking                 41081      0.00      0.03  33.27   0      0\nkeyword_Delve                    41081      0.00      0.03  29.51   0      0\nkeyword_Dredge                   41081      0.00      0.03  32.83   0      0\nkeyword_Cipher                   41081      0.00      0.02  49.13   0      0\nkeyword_Bloodthirst              41081      0.00      0.03  31.23   0      0\nkeyword_Dash                     41081      0.00      0.02  44.19   0      0\nkeyword_Commander ninjutsu       41081      0.00      0.01 143.30   0      0\nkeyword_Manifest                 41081      0.00      0.02  46.47   0      0\nkeyword_Populate                 41081      0.00      0.01  82.72   0      0\nkeyword_Jump-start               41081      0.00      0.02  61.08   0      0\nkeyword_Mutate                   41081      0.00      0.03  30.86   0      0\nkeyword_Food                     41081      0.00      0.03  29.83   0      0\nkeyword_Demonstrate              41081      0.00      0.02  64.07   0      0\nkeyword_Encore                   41081      0.00      0.02  42.23   0      0\nkeyword_Adapt                    41081      0.00      0.02  50.64   0      0\nkeyword_Toxic                    41081      0.00      0.03  33.74   0      0\nkeyword_Conjure                  41081      0.00      0.02  58.48   0      0\nkeyword_Replicate                41081      0.00      0.02  52.30   0      0\nkeyword_Escape                   41081      0.00      0.02  42.23   0      0\nkeyword_Foretell                 41081      0.00      0.04  26.56   0      0\nkeyword_Skulk                    41081      0.00      0.02  52.30   0      0\nkeyword_Buyback                  41081      0.00      0.03  33.74   0      0\nkeyword_Planeswalk               41081      0.00      0.00    NaN   0      0\nkeyword_Training                 41081      0.00      0.02  52.30   0      0\nkeyword_Emerge                   41081      0.00      0.02  47.74   0      0\nkeyword_Renown                   41081      0.00      0.02  41.34   0      0\nkeyword_Fuse                     41081      0.00      0.03  36.96   0      0\nkeyword_Hidden agenda            41081      0.00      0.00    NaN   0      0\nkeyword_Double agenda            41081      0.00      0.00    NaN   0      0\nkeyword_Recover                  41081      0.00      0.01  82.72   0      0\nkeyword_Ripple                   41081      0.00      0.01  90.62   0      0\nkeyword_Fading                   41081      0.00      0.02  41.34   0      0\nkeyword_Detain                   41081      0.00      0.01 143.30   0      0\nkeyword_Transform                41081      0.00      0.05  19.99   0      0\nkeyword_Enlist                   41081      0.00      0.02  56.19   0      0\nkeyword_Phasing                  41081      0.00      0.02  58.48   0      0\nkeyword_Compleated               41081      0.00      0.02  41.34   0      0\nkeyword_Bargain                  41081      0.00      0.01 143.30   0      0\nkeyword_Wither                   41081      0.00      0.02  44.19   0      0\nkeyword_Wizardcycling            41081      0.00      0.01 117.00   0      0\nkeyword_Gravestorm               41081      0.00      0.00 202.67   0      0\nkeyword_Transfigure              41081      0.00      0.00 202.67   0      0\nkeyword_Slivercycling            41081      0.00      0.01 117.00   0      0\nkeyword_Fortify                  41081      0.00      0.00 202.67   0      0\nkeyword_Transmute                41081      0.00      0.02  61.08   0      0\nkeyword_Nonbasic landwalk        41081      0.00      0.00 202.67   0      0\nkeyword_Assemble                 41081      0.00      0.01  71.64   0      0\nkeyword_Seek                     41081      0.00      0.02  61.08   0      0\nkeyword_Boast                    41081      0.00      0.02  50.64   0      0\nkeyword_Provoke                  41081      0.00      0.01  67.54   0      0\nkeyword_Plainswalk               41081      0.00      0.01  90.62   0      0\nkeyword_Disturb                  41081      0.00      0.02  42.23   0      0\nkeyword_Daybound                 41081      0.00      0.03  31.61   0      0\nkeyword_Nightbound               41081      0.00      0.00    NaN   0      0\nkeyword_Backup                   41081      0.00      0.03  34.21   0      0\nkeyword_Incubate                 41081      0.00      0.02  61.08   0      0\nkeyword_Casualty                 41081      0.00      0.02  47.74   0      0\nkeyword_Reconfigure              41081      0.00      0.03  36.36   0      0\nkeyword_Epic                     41081      0.00      0.01  90.62   0      0\nkeyword_Legendary landwalk       41081      0.00      0.00 202.67   0      0\nkeyword_Augment                  41081      0.00      0.00    NaN   0      0\nkeyword_Open an Attraction       41081      0.00      0.01 117.00   0      0\nkeyword_Cleave                   41081      0.00      0.02  56.19   0      0\nkeyword_Amass                    41081      0.00      0.02  61.08   0      0\nnumber_of_keywords               41081      0.79      0.83   1.07   0      0\nmulticolor_with_colorless        41081      0.87      0.33  -2.24   0      1\n                                 median    p75    max\nmultiverse_id                    409965 509340 616528\nconverted_mana_cost                   3      5     16\npower                                 2      4     18\ntoughness                             3      4     17\nred_cost                              0      0      4\ngreen_cost                            0      0      4\nblue_cost                             0      0      4\nwhite_cost                            0      0      4\nblack_cost                            0      0      4\ncolorless_cost                        2      3     16\nmulticolor                            0      0      1\ncolor_red                             0      0      1\ncolor_green                           0      0      1\ncolor_blue                            0      0      1\ncolor_white                           0      0      1\ncolor_black                           0      0      1\ncolor_colorless                       1      1      1\ncolor_identity_red                    0      0      1\ncolor_identity_green                  0      0      1\ncolor_identity_blue                   0      1      1\ncolor_identity_white                  0      0      1\ncolor_identity_black                  0      0      1\nvariable_power                        0      0      1\nvariable_toughness                    0      0      1\ncreature                              1      1      1\nland                                  0      0      0\nartifact                              0      0      1\nenchantment                           0      0      1\nplaneswalker                          0      0      1\nbattle                                0      0      1\ninstant                               0      0      1\nsorcery                               0      0      1\nmultitype                             0      0      1\nnumber_of_same_cards                  5     12    555\nkeyword_First strike                  0      0      1\nkeyword_NA                            0      0      0\nkeyword_Flying                        0      0      1\nkeyword_Defender                      0      0      1\nkeyword_Sacrifice                     0      0      1\nkeyword_Destroy                       0      0      1\nkeyword_Squad                         0      0      1\nkeyword_Double                        0      0      1\nkeyword_Shuffle                       0      0      1\nkeyword_Flash                         0      0      1\nkeyword_Enchant                       0      0      1\nkeyword_Tap                           0      0      1\nkeyword_Create                        0      0      1\nkeyword_Vigilance                     0      0      1\nkeyword_Treasure                      0      0      1\nkeyword_Attach                        0      0      1\nkeyword_Counter                       0      0      1\nkeyword_Untap                         0      0      1\nkeyword_Islandwalk                    0      0      1\nkeyword_Exile                         0      0      1\nkeyword_Swampwalk                     0      0      1\nkeyword_Regenerate                    0      0      1\nkeyword_Ravenous                      0      0      1\nkeyword_Fear                          0      0      1\nkeyword_Activate                      0      0      1\nkeyword_Haste                         0      0      1\nkeyword_Mountainwalk                  0      0      1\nkeyword_Discard                       0      0      1\nkeyword_Trample                       0      0      1\nkeyword_Menace                        0      0      1\nkeyword_Reach                         0      0      1\nkeyword_Shroud                        0      0      1\nkeyword_Forestwalk                    0      0      1\nkeyword_Hexproof                      0      0      1\nkeyword_Equip                         0      0      1\nkeyword_Banding                       0      0      1\nkeyword_Ward                          0      0      1\nkeyword_Cast                          0      0      1\nkeyword_Protection                    0      0      1\nkeyword_Exchange                      0      0      1\nkeyword_Shadow                        0      0      1\nkeyword_Surge                         0      0      1\nkeyword_Annihilator                   0      0      1\nkeyword_Indestructible                0      0      1\nkeyword_Outlast                       0      0      1\nkeyword_Scry                          0      0      1\nkeyword_Totem armor                   0      0      1\nkeyword_Flashback                     0      0      1\nkeyword_Prowess                       0      0      1\nkeyword_Evoke                         0      0      1\nkeyword_Bolster                       0      0      1\nkeyword_Embalm                        0      0      1\nkeyword_Mill                          0      0      1\nkeyword_Unearth                       0      0      1\nkeyword_Deathtouch                    0      0      1\nkeyword_Cycling                       0      0      1\nkeyword_Reveal                        0      0      1\nkeyword_Undying                       0      0      1\nkeyword_Basic landcycling             0      0      1\nkeyword_Mentor                        0      0      1\nkeyword_Suspend                       0      0      1\nkeyword_Champion                      0      0      1\nkeyword_Bestow                        0      0      1\nkeyword_Rebound                       0      0      1\nkeyword_Storm                         0      0      1\nkeyword_Cascade                       0      0      1\nkeyword_Evolve                        0      0      1\nkeyword_Convoke                       0      0      1\nkeyword_Play                          0      0      1\nkeyword_Changeling                    0      0      1\nkeyword_Companion                     0      0      1\nkeyword_Scavenge                      0      0      1\nkeyword_Lifelink                      0      0      1\nkeyword_Dethrone                      0      0      1\nkeyword_Haunt                         0      0      1\nkeyword_Exalted                       0      0      1\nkeyword_Double strike                 0      0      1\nkeyword_Fabricate                     0      0      1\nkeyword_Overload                      0      0      1\nkeyword_Improvise                     0      0      1\nkeyword_Intimidate                    0      0      1\nkeyword_Exploit                       0      0      1\nkeyword_Infect                        0      0      1\nkeyword_Swampcycling                  0      0      1\nkeyword_Devour                        0      0      1\nkeyword_Forestcycling                 0      0      1\nkeyword_Living weapon                 0      0      1\nkeyword_Sunburst                      0      0      1\nkeyword_Multikicker                   0      0      1\nkeyword_Investigate                   0      0      1\nkeyword_Proliferate                   0      0      1\nkeyword_Miracle                       0      0      1\nkeyword_Rampage                       0      0      1\nkeyword_Frenzy                        0      0      1\nkeyword_Echo                          0      0      1\nkeyword_Crew                          0      0      1\nkeyword_Escalate                      0      0      1\nkeyword_Myriad                        0      0      1\nkeyword_Abandon                       0      0      0\nkeyword_Clash                         0      0      1\nkeyword_Entwine                       0      0      1\nkeyword_Affinity                      0      0      1\nkeyword_Modular                       0      0      1\nkeyword_Offering                      0      0      1\nkeyword_Morph                         0      0      1\nkeyword_Plainscycling                 0      0      1\nkeyword_Islandcycling                 0      0      1\nkeyword_Mountaincycling               0      0      1\nkeyword_Megamorph                     0      0      1\nkeyword_Venture into the dungeon      0      0      1\nkeyword_Melee                         0      0      1\nkeyword_Monstrosity                   0      0      1\nkeyword_Eternalize                    0      0      1\nkeyword_Extort                        0      0      1\nkeyword_Goad                          0      0      1\nkeyword_Spectacle                     0      0      1\nkeyword_Retrace                       0      0      1\nkeyword_Ascend                        0      0      1\nkeyword_Hideaway                      0      0      1\nkeyword_Fight                         0      0      1\nkeyword_Learn                         0      0      1\nkeyword_Battle Cry                    0      0      1\nkeyword_Aftermath                     0      0      1\nkeyword_Afterlife                     0      0      1\nkeyword_Exert                         0      0      1\nkeyword_Afflict                       0      0      1\nkeyword_Cumulative upkeep             0      0      1\nkeyword_Kicker                        0      0      1\nkeyword_Blitz                         0      0      1\nkeyword_Surveil                       0      0      1\nkeyword_Amplify                       0      0      1\nkeyword_Conspire                      0      0      1\nkeyword_Graft                         0      0      1\nkeyword_Desertwalk                    0      0      1\nkeyword_Soulbond                      0      0      1\nkeyword_Madness                       0      0      1\nkeyword_Riot                          0      0      1\nkeyword_Partner                       0      0      1\nkeyword_Assist                        0      0      1\nkeyword_Support                       0      0      1\nkeyword_Awaken                        0      0      1\nkeyword_Devoid                        0      0      1\nkeyword_Ingest                        0      0      1\nkeyword_Tribute                       0      0      1\nkeyword_Splice                        0      0      1\nkeyword_Bushido                       0      0      1\nkeyword_Soulshift                     0      0      1\nkeyword_Ninjutsu                      0      0      1\nkeyword_Vanishing                     0      0      1\nkeyword_More Than Meets the Eye       0      0      1\nkeyword_Prowl                         0      0      1\nkeyword_Living metal                  0      0      0\nkeyword_Convert                       0      0      1\nkeyword_Prototype                     0      0      1\nkeyword_Unleash                       0      0      1\nkeyword_Horsemanship                  0      0      1\nkeyword_Forecast                      0      0      1\nkeyword_Split second                  0      0      1\nkeyword_Persist                       0      0      1\nkeyword_Reinforce                     0      0      1\nkeyword_Undaunted                     0      0      1\nkeyword_Flanking                      0      0      1\nkeyword_Delve                         0      0      1\nkeyword_Dredge                        0      0      1\nkeyword_Cipher                        0      0      1\nkeyword_Bloodthirst                   0      0      1\nkeyword_Dash                          0      0      1\nkeyword_Commander ninjutsu            0      0      1\nkeyword_Manifest                      0      0      1\nkeyword_Populate                      0      0      1\nkeyword_Jump-start                    0      0      1\nkeyword_Mutate                        0      0      1\nkeyword_Food                          0      0      1\nkeyword_Demonstrate                   0      0      1\nkeyword_Encore                        0      0      1\nkeyword_Adapt                         0      0      1\nkeyword_Toxic                         0      0      1\nkeyword_Conjure                       0      0      1\nkeyword_Replicate                     0      0      1\nkeyword_Escape                        0      0      1\nkeyword_Foretell                      0      0      1\nkeyword_Skulk                         0      0      1\nkeyword_Buyback                       0      0      1\nkeyword_Planeswalk                    0      0      0\nkeyword_Training                      0      0      1\nkeyword_Emerge                        0      0      1\nkeyword_Renown                        0      0      1\nkeyword_Fuse                          0      0      1\nkeyword_Hidden agenda                 0      0      0\nkeyword_Double agenda                 0      0      0\nkeyword_Recover                       0      0      1\nkeyword_Ripple                        0      0      1\nkeyword_Fading                        0      0      1\nkeyword_Detain                        0      0      1\nkeyword_Transform                     0      0      1\nkeyword_Enlist                        0      0      1\nkeyword_Phasing                       0      0      1\nkeyword_Compleated                    0      0      1\nkeyword_Bargain                       0      0      1\nkeyword_Wither                        0      0      1\nkeyword_Wizardcycling                 0      0      1\nkeyword_Gravestorm                    0      0      1\nkeyword_Transfigure                   0      0      1\nkeyword_Slivercycling                 0      0      1\nkeyword_Fortify                       0      0      1\nkeyword_Transmute                     0      0      1\nkeyword_Nonbasic landwalk             0      0      1\nkeyword_Assemble                      0      0      1\nkeyword_Seek                          0      0      1\nkeyword_Boast                         0      0      1\nkeyword_Provoke                       0      0      1\nkeyword_Plainswalk                    0      0      1\nkeyword_Disturb                       0      0      1\nkeyword_Daybound                      0      0      1\nkeyword_Nightbound                    0      0      0\nkeyword_Backup                        0      0      1\nkeyword_Incubate                      0      0      1\nkeyword_Casualty                      0      0      1\nkeyword_Reconfigure                   0      0      1\nkeyword_Epic                          0      0      1\nkeyword_Legendary landwalk            0      0      1\nkeyword_Augment                       0      0      0\nkeyword_Open an Attraction            0      0      1\nkeyword_Cleave                        0      0      1\nkeyword_Amass                         0      0      1\nnumber_of_keywords                    1      1      6\nmulticolor_with_colorless             1      1      1\n\nCategorical Variables\n variable              level                n     pct \n name                  A Good Thing             4 0.00\n                       A-Bretagard Strongho     2 0.00\n                       A-Cosmos Elixir          2 0.00\n                       A-Dungeon Descent        2 0.00\n                       A-Elderfang Ritualis     1 0.00\n                       A-Fires of Invention     1 0.00\n                       A-Haywire Mite           2 0.00\n                       A-Skemfar Elderhall      2 0.00\n                       A-Vega, the Watcher      1 0.00\n                       Aarakocra Sneak          2 0.00\n                       (12126 more levels)  41062 1.00\n layout                adventure              140 0.00\n                       aftermath              108 0.00\n                       class                    3 0.00\n                       flip                    22 0.00\n                       host                    26 0.00\n                       leveler                 26 0.00\n                       meld                    15 0.00\n                       modal_dfc              139 0.00\n                       mutate                  52 0.00\n                       normal               39951 0.97\n                       (4 more levels)        599 0.01\n mana_cost             {0}                    179 0.00\n                       {1}                    653 0.02\n                       {1}{B}                1263 0.03\n                       {1}{B}{B}              483 0.01\n                       {1}{B}{B}{B}            21 0.00\n                       {1}{B}{B}{B}{B}          4 0.00\n                       {1}{B}{B}{B}{G}{G}{G     2 0.00\n                       {1}{B}{B}{G}             3 0.00\n                       {1}{B}{B}{R}{R}          2 0.00\n                       {1}{B}{B/G}{G}           1 0.00\n                       (515 more levels)    38470 0.94\n type                  Artifact              2880 0.07\n                       Artifact — Clue          4 0.00\n                       Artifact — Equipment   706 0.02\n                       Artifact — Equipment     1 0.00\n                       Artifact — Food          1 0.00\n                       Artifact — Fortifica     1 0.00\n                       Artifact — Treasure      6 0.00\n                       Artifact — Vehicle     110 0.00\n                       Artifact Creature —     21 0.00\n                       Artifact Creature —      1 0.00\n                       (2372 more levels)   37350 0.91\n rarity                Bonus                    8 0.00\n                       Common               12948 0.32\n                       Mythic                2951 0.07\n                       Rare                 12868 0.31\n                       Special                182 0.00\n                       Uncommon             12124 0.30\n flavor                . . . aaaaaaiiii . .     1 0.00\n                       . . . but the price      2 0.00\n                       . . . iiiiiiinnnn .      1 0.00\n                       . . . nnnnnssssss!       1 0.00\n                       . . . that exciting      1 0.00\n                       'Twas in the bogs of     5 0.00\n                       'Twas in the bogs of     1 0.00\n                       \" . . . [W]hen the t     1 0.00\n                       \" . . . And the thir     2 0.00\n                       \" . . . and you must     1 0.00\n                       (15713 more levels)  24376 1.00\n set_name              Adventures in the Fo   283 0.01\n                       Aether Revolt          170 0.00\n                       Alara Reborn           106 0.00\n                       Alchemy Horizons: Ba   226 0.01\n                       Alchemy: Innistrad      54 0.00\n                       Alchemy: Kamigawa       22 0.00\n                       Alchemy: New Capenna    18 0.00\n                       Alliances              163 0.00\n                       Amonkhet               225 0.01\n                       Amonkhet Invocations    43 0.00\n                       (280 more levels)    39771 0.97\n combined_general_type artifact              3951 0.10\n                       artifact_enchantment     8 0.00\n                       battle                  28 0.00\n                       creature             21130 0.51\n                       creature_artifact     1802 0.04\n                       creature_enchantment   220 0.01\n                       creature_instant         2 0.00\n                       enchantment           4204 0.10\n                       instant               4381 0.11\n                       planeswalker           545 0.01\n                       (1 more levels)       4806 0.12\n mana_cost_q           high cost            11403 0.28\n                       low cost              9356 0.23\n                       medium-high cost      9054 0.22\n                       medium-low cost      11268 0.27\n mana_cost_t           high cost            11403 0.28\n                       low cost              9356 0.23\n                       medium cost          20322 0.49\n\n\n\nCodedf %&gt;% \n dplyr::select(-names, -source) %&gt;% \n  #dplyr::select(-c(color_identity,legalitites, colors, supertypes, rulings, variations,names,source,printings) ) %&gt;%\n  barcharts()\n\nThe following variable had more than 20 levels and were not graphed:\n name mana_cost type text flavor set_name \n\n\n\n\nCode# df %&gt;%dplyr::select(-starts_with(\"keyword_\")) %&gt;% densities()\ndf %&gt;%dplyr::select(contains(\"cost\")) %&gt;% densities()\n\n\n\nCodedf %&gt;%dplyr::select(contains(\"color\"), -colorless_cost) %&gt;% densities()\n\n\n\nCodedf %&gt;%dplyr::select(starts_with(\"variable\")) %&gt;% densities()\n\n\n\n\nI’ve mostly only seen a handful of cards my friends play with, and my doctor who deck, so I’m curious if there’s any correlation between the toughness, power, and mana. On a first glance you’d expect it, if a character is tougher it can withstand more, if it’s got a higher power it can hit harder, and so forth. However, at least somewhat frequently the reason a character is useful is because it has some useful skill. For example, I’ve got a card that doesn’t hit hard or have high defense, but it costs a decent bit of mana (for my deck) because every time I attack I can play the top of my deck.\n\nCode# ggplotly(\n  df %&gt;% \n  filter(str_detect(type,\"Creature\")) %&gt;% \n   dplyr::select(toughness,power,converted_mana_cost, name) %&gt;% \n    distinct() %&gt;% \n  ggplot(aes(x=toughness,y=power,color=as.factor(converted_mana_cost), text=paste(\"name: \",name))) +\n  geom_jitter()+\n    labs(\n      title=\"Magic the Gathering Toughness vs Power\",\n      x=\"Toughness (Hit Points)\",\n      y=\"Power\",\n      color=\"Total Mana Cost\"\n    )\n\n\n\nCode  # )\n\n\nThere seems to be overall a strong trend between toughness and power above values around 7, and that the mana cost follows a similar trend.\nText\n\nCode# data(\"stop_words\")\n\n# word_frequency &lt;- Txtdf %&gt;% \n#   unnest_tokens(word,flavor, to_lower = TRUE) %&gt;% \n#   #dplyr::select(color,word) %&gt;% \n#   group_by(color,word) %&gt;% \n#   anti_join(stop_words) %&gt;% \n#   filter(!is.na(word)) %&gt;% \n#   summarize(count=n()) %&gt;% \n#   arrange(desc(count), .by_group = TRUE)\n#   # count()\n\nword_tfidf &lt;- Txtdf %&gt;% \n  # filter(!is.na(color)) %&gt;% \n  unnest_tokens(word,flavor, to_lower = TRUE) %&gt;% \n  count(color,word, sort=TRUE) %&gt;% \n  bind_tf_idf(word,color,n)\n  # \n  # mutate(total_flavor_words=sum(n)) %&gt;% \n  # #dplyr::select(color,word) %&gt;% \n  # group_by(color,word) %&gt;% \n  # anti_join(stop_words) %&gt;% \n  # filter(!is.na(word)) %&gt;% \n  # summarize(\n  #   # count=n(),\n  #           rank=row_number(),\n  #           term_frequency=n/total) %&gt;% \n  #   ungroup()\n  \nword_tfidf %&gt;% \n  group_by(color) %&gt;% \n  slice_max(tf_idf, n=15) %&gt;% \n   ungroup() %&gt;%\n  ggplot(aes(tf_idf, fct_reorder(word, tf_idf), fill = color)) +\n  geom_col(show.legend = FALSE) +\n  facet_wrap(~color, ncol = 2, scales = \"free\") +\n  labs(x = \"tf-idf\", y = NULL)\n\n\n\n\n\nCodedf %&gt;%dplyr::select(starts_with(\"keyword_\"), \n              color_green) %&gt;% \n  filter(color_green==1) %&gt;% \n  mutate(across(.cols=starts_with(\"keyword\"), sum)\n         ) %&gt;% \n  distinct()%&gt;% \n  pivot_longer(cols=starts_with(\"keyword\"), names_to = \"keyword\", values_to = \"count\") %&gt;% \n  mutate(keyword=str_remove(keyword,\"keyword_\")) %&gt;% \n  slice_max(count, n=5) %&gt;% \n   # ungroup() %&gt;%\n  ggplot(aes(fct_reorder(keyword, count), count )) +\n  geom_col(show.legend = FALSE,\n           fill = \"#7CCD7C\") +\n  # facet_wrap(~color, ncol = 2, scales = \"free\") +\n  labs(x = \"word count\", y = NULL)\n\n\n\nCode  # \n\n\n\nCode# library(ggwordcloud)\n# data(\"love_words_small\")\n# set.seed(42)\n# word_tfidf %&gt;% \n#   # filter(color==green) %&gt;% \n# ggplot(love_words_small, aes(label = word, size = count)) +\n#   ggwordcloud::geom_text_wordcloud() +\n#   scale_size_area(max_size = 40) +\n#   theme_minimal()\n\n\nCoocurrance\n\nCodered_color_df &lt;- df %&gt;% \n  # filter(multicolor==1) %&gt;% \n  filter(color_red==1) %&gt;% \n  summarize(\n    n=n(),\n    red_green_occurance=str_c(as.character(round(sum(color_green)/ n *100,digits=2)),\"%\"),\n    red_blue_occurance=str_c(as.character(round(sum(color_blue) / n *100,digits=2)),\"%\"),\n    red_white_occurance=str_c(as.character(round(sum(color_white) / n *100,digits=2)),\"%\"),\n    red_black_occurance=str_c(as.character(round(sum(color_black) / n *100, digits=2)),\"%\"),\n  )\nred_color_df\n\n# A tibble: 1 × 5\n      n red_green_occurance red_blue_occurance red_white_occurance\n  &lt;int&gt; &lt;chr&gt;               &lt;chr&gt;              &lt;chr&gt;              \n1  8062 7.45%               6.69%              5.99%              \n# ℹ 1 more variable: red_black_occurance &lt;chr&gt;\n\nCodered_green_occurance &lt;- red_color_df$red_green_occurance\nred_blue_occurance &lt;- red_color_df$red_blue_occurance\nred_white_occurance &lt;- red_color_df$red_white_occurance\nred_black_occurance &lt;- red_color_df$red_black_occurance\n\n\n\nCodegreen_color_df &lt;- df %&gt;% \n  # filter(multicolor==1) %&gt;% \n  filter(color_green==1) %&gt;% \n  summarize(\n    n=n(),\n    green_red_occurance=str_c(as.character(round(sum(color_red)/ n *100,digits=2)),\"%\"),\n    green_blue_occurance=str_c(as.character(round(sum(color_blue) / n *100,digits=2)),\"%\"),\n    green_white_occurance=str_c(as.character(round(sum(color_white) / n *100,digits=2)),\"%\"),\n    green_black_occurance=str_c(as.character(round(sum(color_black) / n *100, digits=2)),\"%\"),\n  )\ngreen_color_df\n\n# A tibble: 1 × 5\n      n green_red_occurance green_blue_occurance green_white_occurance\n  &lt;int&gt; &lt;chr&gt;               &lt;chr&gt;                &lt;chr&gt;                \n1  8244 7.29%               6.11%                7.1%                 \n# ℹ 1 more variable: green_black_occurance &lt;chr&gt;\n\nCodegreen_red_occurance &lt;- green_color_df$green_red_occurance\ngreen_blue_occurance &lt;- green_color_df$green_blue_occurance\ngreen_white_occurance &lt;- green_color_df$green_white_occurance\ngreen_black_occurance &lt;- green_color_df$green_black_occurance\n\n\n\nCodeblue_color_df &lt;- df %&gt;% \n  # filter(multicolor==1) %&gt;% \n  filter(color_blue==1) %&gt;% \n  summarize(\n    n=n(),\n    blue_red_occurance=str_c(as.character(round(sum(color_red)/ n *100,digits=2)),\"%\"),\n    blue_green_occurance=str_c(as.character(round(sum(color_green) / n *100,digits=2)),\"%\"),\n    blue_white_occurance=str_c(as.character(round(sum(color_white) / n *100,digits=2)),\"%\"),\n    blue_black_occurance=str_c(as.character(round(sum(color_black) / n *100, digits=2)),\"%\"),\n  )\n\nblue_color_df\n\n# A tibble: 1 × 5\n      n blue_red_occurance blue_green_occurance blue_white_occurance\n  &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;                &lt;chr&gt;               \n1  8054 6.69%              6.26%                7.71%               \n# ℹ 1 more variable: blue_black_occurance &lt;chr&gt;\n\nCodeblue_red_occurance &lt;- blue_color_df$blue_red_occurance\nblue_green_occurance &lt;- blue_color_df$blue_green_occurance\nblue_white_occurance &lt;- blue_color_df$blue_white_occurance\nblue_black_occurance &lt;- blue_color_df$blue_black_occurance\n\n\n\nCodewhite_color_df &lt;- df %&gt;% \n  # filter(multicolor==1) %&gt;% \n  filter(color_white==1) %&gt;% \n  summarize(\n    n=n(),\n    white_red_occurance=str_c(as.character(round(sum(color_red)/ n *100,digits=2)),\"%\"),\n    white_blue_occurance=str_c(as.character(round(sum(color_blue) / n *100,digits=2)),\"%\"),\n    white_green_occurance=str_c(as.character(round(sum(color_green) / n *100,digits=2)),\"%\"),\n    white_black_occurance=str_c(as.character(round(sum(color_black) / n *100, digits=2)),\"%\"),\n  )\n\nwhite_color_df\n\n# A tibble: 1 × 5\n      n white_red_occurance white_blue_occurance white_green_occurance\n  &lt;int&gt; &lt;chr&gt;               &lt;chr&gt;                &lt;chr&gt;                \n1  8152 5.92%               7.62%                7.18%                \n# ℹ 1 more variable: white_black_occurance &lt;chr&gt;\n\nCodewhite_red_occurance &lt;- white_color_df$white_red_occurance\nwhite_blue_occurance &lt;- white_color_df$white_blue_occurance\nwhite_green_occurance &lt;- white_color_df$white_green_occurance\nwhite_black_occurance &lt;- white_color_df$white_black_occurance\n\n\n\nCodeblack_color_df &lt;- df %&gt;% \n  # filter(multicolor==1) %&gt;% \n  filter(color_black==1) %&gt;% \n  summarize(\n    n=n(),\n    black_red_occurance=str_c(as.character(round(sum(color_red)/ n *100,digits=2)),\"%\"),\n    black_blue_occurance=str_c(as.character(round(sum(color_blue) / n *100,digits=2)),\"%\"),\n    black_white_occurance=str_c(as.character(round(sum(color_white) / n *100,digits=2)),\"%\"),\n    black_green_occurance=str_c(as.character(round(sum(color_green) / n *100, digits=2)),\"%\"),\n  )\n\nblack_color_df\n\n# A tibble: 1 × 5\n      n black_red_occurance black_blue_occurance black_white_occurance\n  &lt;int&gt; &lt;chr&gt;               &lt;chr&gt;                &lt;chr&gt;                \n1  8120 7.92%               7.94%                6.48%                \n# ℹ 1 more variable: black_green_occurance &lt;chr&gt;\n\nCodeblack_red_occurance &lt;- black_color_df$black_red_occurance\nblack_blue_occurance &lt;- black_color_df$black_blue_occurance\nblack_white_occurance &lt;- black_color_df$black_white_occurance\nblack_green_occurance &lt;- black_color_df$black_green_occurance\n\n\n\nCodecolorless_color_df &lt;- df %&gt;% \n  # filter(multicolor==1) %&gt;% \n  filter(color_colorless==1) %&gt;% \n  summarize(\n    n=n(),\n    colorless_red_occurance=str_c(as.character(round(sum(color_red)/ n *100,digits=2)),\"%\"),\n    colorless_green_occurance=str_c(as.character(round(sum(color_green)/ n *100,digits=2)),\"%\"),\n    colorless_blue_occurance=str_c(as.character(round(sum(color_blue) / n *100,digits=2)),\"%\"),\n    colorless_white_occurance=str_c(as.character(round(sum(color_white) / n *100,digits=2)),\"%\"),\n    colorless_black_occurance=str_c(as.character(round(sum(color_black) / n *100, digits=2)),\"%\"),\n  )\ncolorless_color_df\n\n# A tibble: 1 × 6\n      n colorless_red_occurance colorless_green_occurance colorless_blue_occur…¹\n  &lt;int&gt; &lt;chr&gt;                   &lt;chr&gt;                     &lt;chr&gt;                 \n1 40902 19.69%                  20.15%                    19.68%                \n# ℹ abbreviated name: ¹​colorless_blue_occurance\n# ℹ 2 more variables: colorless_white_occurance &lt;chr&gt;,\n#   colorless_black_occurance &lt;chr&gt;\n\nCodecolorless_red_occurance &lt;- colorless_color_df$colorless_red_occurance\ncolorless_green_occurance &lt;- colorless_color_df$colorless_green_occurance\ncolorless_blue_occurance &lt;- colorless_color_df$colorless_blue_occurance\ncolorless_white_occurance &lt;- colorless_color_df$colorless_white_occurance\ncolorless_black_occurance &lt;- colorless_color_df$colorless_black_occurance\n\n\nMachine Learning\n\nCodedf %&gt;% mutate(converted_mana_cost=as.factor(converted_mana_cost)) %&gt;% tab(converted_mana_cost,plot=TRUE)\n\n\n\n\n\n\nRegression\nClassification by quantile\nClassification collapsing medium category\n\n\n\n\nCodemodeling_type &lt;- \"regression\"\nprioritized_metric &lt;- \"rmse\"\n# strat_by_devar &lt;- TRUE\ndevar &lt;- \"converted_mana_cost\"\ninvars &lt;- df %&gt;%dplyr::select(\n  # starts_with(\"keyword_\"),\n  # sorcery,instant,battle,planeswalker,enchantment,artifact,land,creature,\n  variable_power,variable_toughness,power,toughness, \n  multicolor,\n  number_of_keywords,\n  starts_with(\"color\")\n  ) %&gt;% \n dplyr::select(-colors,\n         -starts_with(\"color_identity\"),\n                      -colorless_cost) %&gt;%\n  names()\n\nmodeldf &lt;- df %&gt;% \n  filter(\n    # color_green==1, \n                         # land != 1, \n        ( creature==1 | artifact ==1)\n        ) %&gt;% \n dplyr::select(all_of(invars),devar) %&gt;% \n  # mutate(converted_mana_cost=as.factor(ifelse(converted_mana_cost &lt;=5,as.character(converted_mana_cost), \"5+\" ))\n           # ) %&gt;% \n  # mutate(mana_cost_q=as.factor(mana_cost_q)) %&gt;% \n  na.omit()\n\nWarning: Using an external vector in selections was deprecated in tidyselect 1.1.0.\nℹ Please use `all_of()` or `any_of()` instead.\n  # Was:\n  data %&gt;% select(devar)\n\n  # Now:\n  data %&gt;% select(all_of(devar))\n\nSee &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.\n\nCodesource(here::here(\"Scripts\",\"tidyModelsGeneralModeling.R\"))\n\nWarning: Using an external vector in selections was deprecated in tidyselect 1.1.0.\nℹ Please use `all_of()` or `any_of()` instead.\n  # Was:\n  data %&gt;% select(invars)\n\n  # Now:\n  data %&gt;% select(all_of(invars))\n\nSee &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.\n\n\ni 1 of 6 tuning:     boosting\n\n\n✔ 1 of 6 tuning:     boosting (5m 13.5s)\n\n\ni 2 of 6 tuning:     SVM_radial\n\n\n✔ 2 of 6 tuning:     SVM_radial (5m 52.3s)\n\n\ni 3 of 6 tuning:     KNN\n\n\n✔ 3 of 6 tuning:     KNN (6m 41.1s)\n\n\ni 4 of 6 tuning:     neural_network\n\n\n✔ 4 of 6 tuning:     neural_network (1m 29s)\n\n\ni   No tuning parameters. `fit_resamples()` will be attempted\n\n\ni 5 of 6 resampling: full_quad_linear_reg\n\n\n→ A | warning: prediction from a rank-deficient fit may be misleading\n\n\nThere were issues with some computations   A: x1\n\n\nThere were issues with some computations   A: x10\n\n\n\n\n\n✔ 5 of 6 resampling: full_quad_linear_reg (3.2s)\n\n\ni 6 of 6 tuning:     full_quad_KNN\n\n\n✔ 6 of 6 tuning:     full_quad_KNN (22m 22.3s)\n\n\n\nCodeautoplot(\n  grid_results,\n  rank_metric = prioritized_metric,  # &lt;- how to order models\n  metric = prioritized_metric,       # &lt;- which metric to visualize\n  select_best = TRUE     # &lt;- one point per workflow\n)\n\n\n\nCodebest_init_model_v1 &lt;- best_init_model\n\nbest_results_v1 &lt;- best_results\n\nfinalized_best_init_model_v1 &lt;- finalized_best_init_model\n\nbest_init_model_explainer_v1 &lt;- best_init_model_explainer\n\n\n\nCodefinalized_best_init_model_v1 %&gt;% \n  collect_predictions() %&gt;% \n  ggplot(aes(x= converted_mana_cost, y=.pred))+\n   geom_abline(color = \"gray50\", lty = 2) + \n   geom_point(alpha = 0.5) + \n   coord_obs_pred() +\n   labs(x = \"observed\", y = \"predicted\")\n\n\n\nCode  # performance::check_model()\nfinalized_best_init_model_v1 %&gt;% \n  collect_predictions() %&gt;% \n  mutate(.resids=converted_mana_cost - .pred) %&gt;% \n  ggplot(aes(x=.resids))+\n  geom_density(fill='cornflowerblue')\n\n\n\nCodefinalized_best_init_model_v1 %&gt;% collect_metrics()\n\n# A tibble: 2 × 4\n  .metric .estimator .estimate .config             \n  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;               \n1 rmse    standard       0.582 Preprocessor1_Model1\n2 rsq     standard       0.656 Preprocessor1_Model1\n\nCodebest_init_model_v1\n\n[1] \"KNN\"\n\n\n\n\n\nCodemodeling_type &lt;- \"classification\"\nprioritized_metric &lt;- \"precision\"\n# strat_by_devar &lt;- TRUE\ndevar &lt;- \"mana_cost_q\"\ninvars &lt;- df %&gt;%dplyr::select(\n  # starts_with(\"keyword_\"),\n  # sorcery,instant,battle,planeswalker,enchantment,artifact,land,creature,\n  variable_power,variable_toughness,power,toughness, \n  multicolor,\n  number_of_keywords,\n  starts_with(\"color\")\n  ) %&gt;% \n dplyr::select(-colors,\n         -starts_with(\"color_identity\"),\n                      -colorless_cost) %&gt;%\n  names()\n\nmodeldf &lt;- df %&gt;% \n  filter(\n    # color_green==1, \n                         # land != 1, \n        ( creature==1 | artifact ==1)\n        ) %&gt;% \n dplyr::select(all_of(invars),devar) %&gt;% \n  # mutate(converted_mana_cost=as.factor(ifelse(converted_mana_cost &lt;=5,as.character(converted_mana_cost), \"5+\" ))\n           # ) %&gt;% \n  mutate(mana_cost_q=as.factor(mana_cost_q)) %&gt;% \n  na.omit()\n\nsource(here::here(\"Scripts\",\"tidyModelsGeneralModeling.R\"))\n\ni   No tuning parameters. `fit_resamples()` will be attempted\n\n\ni 1 of 8 resampling: decisionTree\n\n\n→ A | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 399\n\n\nThere were issues with some computations   A: x1\n\n\n→ B | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 427\n\n\nThere were issues with some computations   A: x1\n→ C | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 422\nThere were issues with some computations   A: x1\n→ D | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 426\nThere were issues with some computations   A: x1\n→ E | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 441\nThere were issues with some computations   A: x1\n→ F | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 373\nThere were issues with some computations   A: x1\nThere were issues with some computations   A: x1   B: x1   C: x1   D: x1   E: x…\n→ G | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 395\nThere were issues with some computations   A: x1   B: x1   C: x1   D: x1   E: x…\n→ H | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 417\nThere were issues with some computations   A: x1   B: x1   C: x1   D: x1   E: x…\n→ I | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 383\nThere were issues with some computations   A: x1   B: x1   C: x1   D: x1   E: x…\n→ J | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n                Precision is undefined in this case, and those levels will be removed from the averaged result.\n                Note that the following number of true events actually occured for each problematic event level:\n                'medium-high cost': 379\nThere were issues with some computations   A: x1   B: x1   C: x1   D: x1   E: x…\nThere were issues with some computations   A: x1   B: x1   C: x1   D: x1   E: x…\n\n✔ 1 of 8 resampling: decisionTree (4.1s)\ni   No tuning parameters. `fit_resamples()` will be attempted\ni 2 of 8 resampling: SLNN\n✔ 2 of 8 resampling: SLNN (13.6s)\ni 3 of 8 tuning:     randomforest\n✔ 3 of 8 tuning:     randomforest (2m 50.4s)\ni   No tuning parameters. `fit_resamples()` will be attempted\ni 4 of 8 resampling: multinomialnnet\n✔ 4 of 8 resampling: multinomialnnet (5.5s)\ni 5 of 8 tuning:     multinomialglmnet\n✔ 5 of 8 tuning:     multinomialglmnet (23s)\ni   No tuning parameters. `fit_resamples()` will be attempted\ni 6 of 8 resampling: LDA\n→ A | warning: variables are collinear\nThere were issues with some computations   A: x1\nThere were issues with some computations   A: x10\n\n✔ 6 of 8 resampling: LDA (1.4s)\ni   No tuning parameters. `fit_resamples()` will be attempted\ni 7 of 8 resampling: NaiveBayes_rec\n→ A | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 427\nThere were issues with some computations   A: x1\n→ B | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 422\nThere were issues with some computations   A: x1\n→ C | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 426\nThere were issues with some computations   A: x1\nThere were issues with some computations   A: x1   B: x1   C: x1\n→ D | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 395\nThere were issues with some computations   A: x1   B: x1   C: x1\nThere were issues with some computations   A: x1   B: x1   C: x1   D: x1\n→ E | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'medium-high cost': 383\nThere were issues with some computations   A: x1   B: x1   C: x1   D: x1\nThere were issues with some computations   A: x1   B: x1   C: x1   D: x1   E: x1\nThere were issues with some computations   A: x1   B: x1   C: x1   D: x1   E: x1\n\n✔ 7 of 8 resampling: NaiveBayes_rec (19s)\ni   No tuning parameters. `fit_resamples()` will be attempted\ni 8 of 8 resampling: linearSVM\n✔ 8 of 8 resampling: linearSVM (1m 29.2s)\n→ A | warning: variables are collinear\nThere were issues with some computations   A: x1\nThere were issues with some computations   A: x1\n\n\nWarning in lda.default(x, grouping, ...): variables are collinear\n\n\n\nCodeautoplot(\n  grid_results,\n  rank_metric = prioritized_metric,  # &lt;- how to order models\n  metric = prioritized_metric,       # &lt;- which metric to visualize\n  select_best = TRUE     # &lt;- one point per workflow\n)\n\n\n\nCodebest_init_model_v2 &lt;- best_init_model\n\nbest_results_v2 &lt;- best_results\n\nfinalized_best_init_model_v2 &lt;- finalized_best_init_model\n\nbest_init_model_explainer_v2 &lt;- best_init_model_explainer\n\n\n\nCodetmp &lt;- finalized_best_init_model_v2 %&gt;% collect_predictions()\n\ntmp %&gt;% \n  # group_by(Resample) %&gt;% \n  roc_curve(mana_cost_q, `.pred_high cost`, `.pred_low cost`,`.pred_medium-high cost`, `.pred_medium-low cost`) %&gt;% \n  autoplot()\n\n\n\nCodeconf_mat_resampled(finalized_best_init_model_v2, tidy=FALSE) %&gt;% \n  autoplot(cm, type=\"heatmap\") \n\n\n\nCode  # aes(fill = rep(colnames(cm$table), ncol(cm$table))) + labs(fill = \"Predicted\")\nconf_mat_resampled(finalized_best_init_model_v2, tidy=FALSE) %&gt;% \n  summary() %&gt;% \n  filter(.metric==\"accuracy\" | .metric==\"precision\" | .metric==\"recall\" | .metric==\"f_meas\") %&gt;% \n  mutate(.metric=ifelse(.metric==\"f_meas\", \"f1 score\", .metric)) %&gt;% \n  kable()\n\n\n\n.metric\n.estimator\n.estimate\n\n\n\naccuracy\nmulticlass\n0.5205291\n\n\nprecision\nmacro\n0.4701008\n\n\nrecall\nmacro\n0.4607179\n\n\nf1 score\nmacro\n0.4270918\n\n\n\n\nCodefinalized_best_init_model_v2 %&gt;% collect_metrics()\n\n# A tibble: 2 × 4\n  .metric  .estimator .estimate .config             \n  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;               \n1 accuracy multiclass     0.521 Preprocessor1_Model1\n2 roc_auc  hand_till      0.766 Preprocessor1_Model1\n\nCodebest_init_model_v2\n\n[1] \"LDA\"\n\n\n\nCodebasemodel_q_acc &lt;- modeldf %&gt;%dplyr::select(mana_cost_q) %&gt;% mutate(totaln=n()) %&gt;% group_by(mana_cost_q,totaln) %&gt;% summarize(n=n()) %&gt;% mutate(base_model_acc=n/totaln) %&gt;% ungroup() %&gt;%dplyr::select(base_model_acc) %&gt;% slice_max(order_by = base_model_acc) %&gt;% pull()\n\n`summarise()` has grouped output by 'mana_cost_q'. You can override using the\n`.groups` argument.\n\n\n\n\n\nCodemodeling_type &lt;- \"classification\"\nprioritized_metric &lt;- \"precision\"\n# strat_by_devar &lt;- TRUE\ndevar &lt;- \"mana_cost_q\"\ninvars &lt;- df %&gt;%dplyr::select(\n  # starts_with(\"keyword_\"),\n  # sorcery,instant,battle,planeswalker,enchantment,artifact,land,creature,\n  variable_power,variable_toughness,power,toughness, \n  multicolor,\n  number_of_keywords,\n  starts_with(\"color\")\n  ) %&gt;% \n dplyr::select(-colors,\n         -starts_with(\"color_identity\"),\n                      -colorless_cost) %&gt;%\n  names()\n\nmodeldf &lt;- df %&gt;% \n  filter(\n    # color_green==1, \n                         # land != 1, \n        ( creature==1 | artifact ==1)\n        ) %&gt;% \n dplyr::select(all_of(invars),devar) %&gt;% \n  # mutate(converted_mana_cost=as.factor(ifelse(converted_mana_cost &lt;=5,as.character(converted_mana_cost), \"5+\" ))\n           # ) %&gt;% \n  mutate(mana_cost_t= case_when(\n    mana_cost_q==\"high cost\" ~(mana_cost_q),\n    mana_cost_q==\"medium-high cost\" ~(\"medium cost\"),\n    mana_cost_q==\"medium-low cost\" ~(\"medium cost\"),\n    mana_cost_q==\"low cost\" ~(mana_cost_q)\n  ),\n  mana_cost_t=as.factor(mana_cost_t)\n  ) %&gt;% \n  na.omit()\ndevar &lt;- \"mana_cost_t\"\n\n\nsource(here::here(\"Scripts\",\"tidyModelsGeneralModeling.R\"))\n\ni   No tuning parameters. `fit_resamples()` will be attempted\n\n\ni 1 of 8 resampling: decisionTree\n\n\n✔ 1 of 8 resampling: decisionTree (3.9s)\n\n\ni   No tuning parameters. `fit_resamples()` will be attempted\n\n\ni 2 of 8 resampling: SLNN\n\n\n✔ 2 of 8 resampling: SLNN (11.7s)\n\n\ni 3 of 8 tuning:     randomforest\n\n\n✔ 3 of 8 tuning:     randomforest (7m 42.9s)\n\n\ni   No tuning parameters. `fit_resamples()` will be attempted\n\n\ni 4 of 8 resampling: multinomialnnet\n\n\n✔ 4 of 8 resampling: multinomialnnet (3.2s)\n\n\ni 5 of 8 tuning:     multinomialglmnet\n\n\n✔ 5 of 8 tuning:     multinomialglmnet (17.9s)\n\n\ni   No tuning parameters. `fit_resamples()` will be attempted\n\n\ni 6 of 8 resampling: LDA\n\n\n→ A | warning: variables are collinear\n\n\nThere were issues with some computations   A: x1\n\n\nThere were issues with some computations   A: x10\n\n\n\n\n\n✔ 6 of 8 resampling: LDA (1.2s)\n\n\ni   No tuning parameters. `fit_resamples()` will be attempted\n\n\ni 7 of 8 resampling: NaiveBayes_rec\n\n\n✔ 7 of 8 resampling: NaiveBayes_rec (19.4s)\n\n\ni   No tuning parameters. `fit_resamples()` will be attempted\n\n\ni 8 of 8 resampling: linearSVM\n\n\n→ A | warning: While computing multiclass `precision()`, some levels had no predicted events (i.e. `true_positive + false_positive = 0`). \n               Precision is undefined in this case, and those levels will be removed from the averaged result.\n               Note that the following number of true events actually occured for each problematic event level:\n               'low cost': 283\n\n\nThere were issues with some computations   A: x1\nThere were issues with some computations   A: x1\n\n\n\n\n\n✔ 8 of 8 resampling: linearSVM (1m 10.9s)\n\n\n→ A | warning: variables are collinear\n\n\nThere were issues with some computations   A: x1\nThere were issues with some computations   A: x1\n\n\n\n\n\nWarning in lda.default(x, grouping, ...): variables are collinear\n\n\n\nCodeautoplot(\n  grid_results,\n  rank_metric = prioritized_metric,  # &lt;- how to order models\n  metric = prioritized_metric,       # &lt;- which metric to visualize\n  select_best = TRUE     # &lt;- one point per workflow\n)\n\n\n\nCodebest_init_model_v3 &lt;- best_init_model\n\nbest_results_v3 &lt;- best_results\n\nfinalized_best_init_model_v3 &lt;- finalized_best_init_model\n\nbest_init_model_explainer_v3 &lt;- best_init_model_explainer\n\n\n\nCodetmp &lt;- finalized_best_init_model_v3 %&gt;% collect_predictions()\n\ntmp %&gt;% \n  # group_by(Resample) %&gt;% \n  roc_curve(mana_cost_t, `.pred_high cost`, `.pred_low cost`,`.pred_medium cost`) %&gt;% \n  autoplot()\n\n\n\nCodeconf_mat_resampled(finalized_best_init_model_v3, tidy=FALSE) %&gt;% \n  autoplot(cm, type=\"heatmap\") \n\n\n\nCode  # aes(fill = rep(colnames(cm$table), ncol(cm$table))) + labs(fill = \"Predicted\")\nconf_mat_resampled(finalized_best_init_model_v3, tidy=FALSE) %&gt;% \n  summary() %&gt;% \n  filter(.metric==\"accuracy\" | .metric==\"precision\" | .metric==\"recall\" | .metric==\"f_meas\") %&gt;% \n  mutate(.metric=ifelse(.metric==\"f_meas\", \"f1 score\", .metric)) %&gt;% \n  kable()\n\n\n\n.metric\n.estimator\n.estimate\n\n\n\naccuracy\nmulticlass\n0.6507473\n\n\nprecision\nmacro\n0.5373280\n\n\nrecall\nmacro\n0.5163470\n\n\nf1 score\nmacro\n0.4863668\n\n\n\n\nCodefinalized_best_init_model_v3 %&gt;% collect_metrics()\n\n# A tibble: 2 × 4\n  .metric  .estimator .estimate .config             \n  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;               \n1 accuracy multiclass     0.651 Preprocessor1_Model1\n2 roc_auc  hand_till      0.808 Preprocessor1_Model1\n\nCodebest_init_model_v3\n\n[1] \"LDA\"\n\n\n\nCodebasemodel_t_acc &lt;- modeldf %&gt;%dplyr::select(mana_cost_t) %&gt;% mutate(totaln=n()) %&gt;% group_by(mana_cost_t,totaln) %&gt;% summarize(n=n()) %&gt;% mutate(base_model_acc=n/totaln) %&gt;% ungroup() %&gt;%dplyr::select(base_model_acc) %&gt;% slice_max(order_by = base_model_acc) %&gt;% pull()\n\n`summarise()` has grouped output by 'mana_cost_t'. You can override using the\n`.groups` argument.\n\nCodebasemodel_t_acc\n\n[1] 0.4967786\n\n\n\n\n\n\nCode# Eventually I want to replace this with AIC, but until I figure out where my code is going wrong this'll have to do\nfinalized_best_init_model_v1 %&gt;% collect_metrics()\n\n# A tibble: 2 × 4\n  .metric .estimator .estimate .config             \n  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;               \n1 rmse    standard       0.582 Preprocessor1_Model1\n2 rsq     standard       0.656 Preprocessor1_Model1\n\nCodefinalized_best_init_model_v2 %&gt;% collect_metrics()\n\n# A tibble: 2 × 4\n  .metric  .estimator .estimate .config             \n  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;               \n1 accuracy multiclass     0.521 Preprocessor1_Model1\n2 roc_auc  hand_till      0.766 Preprocessor1_Model1\n\nCodefinalized_best_init_model_v3 %&gt;% collect_metrics()\n\n# A tibble: 2 × 4\n  .metric  .estimator .estimate .config             \n  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;               \n1 accuracy multiclass     0.651 Preprocessor1_Model1\n2 roc_auc  hand_till      0.808 Preprocessor1_Model1\n\n\n\nCode# source(here::here(\"Scripts\", \"functions.R\"))\nexplainer_best_fit_v3 &lt;- DALEXtra::explain_tidymodels(\n    model = best_init_model_explainer_v3,\n    data=(df_train %&gt;%dplyr::select(-devar)),\n    # y=paste(\"df_train$\",devar, sep=\"\"),\n    y=df_train$mana_cost_t\n    # label=\"best initial model\"\n  )\n\nPreparation of a new explainer is initiated\n  -&gt; model label       :  workflow  (  default  )\n  -&gt; data              :  17461  rows  13  cols \n  -&gt; data              :  tibble converted into a data.frame \n  -&gt; target variable   :  17461  values \n  -&gt; predict function  :  yhat.workflow  will be used (  default  )\n  -&gt; predicted values  :  No value for predict function target column. (  default  )\n  -&gt; model_info        :  package tidymodels , ver. 1.1.0 , task multiclass (  default  ) \n  -&gt; predicted values  :  predict function returns multiple columns:  3  (  default  ) \n  -&gt; residual function :  difference between 1 and probability of true class (  default  )\n  -&gt; residuals         :  numerical, min =  2.436755e-06 , mean =  0.4650833 , max =  0.9999992  \n  A new explainer has been created!  \n\nCodeset.seed(1552)\nglobal_explainer_v3 &lt;- model_parts(explainer_best_fit_v3, loss_reduction= loss_root_mean_square)\nggplot_imp(global_explainer_v3)\n\n\n\n\nSaving Data for reuse\n\nCodefinal_model &lt;- finalized_best_init_model_v3\n\nfinalized_best_init_model &lt;- finalized_best_init_model_v3\nfinal_model_base_acc &lt;- basemodel_t_acc\nglobal_explainer_fin &lt;- global_explainer_v3\n\n\n\nCodefinal_model_acc &lt;- final_model %&gt;% collect_metrics() %&gt;% filter(.metric==\"accuracy\") %&gt;% dplyr::select(.estimate) %&gt;% pull()\nfinal_model_acc_str &lt;- str_c(as.character(round(sum(final_model_acc) *100,digits=2)),\"%\")\nfinal_model_improvement &lt;- final_model_acc -final_model_base_acc\nfinal_model_improvement_str &lt;- str_c(as.character(round(sum(final_model_improvement) *100,digits=2)),\"%\")\n\n\n\nCodeif (params$datasave==TRUE){\n  save(list=c(\"finalized_best_init_model\",\n              \"final_model_acc_str\",\n              \"final_model_improvement_str\",\n              \"df\",\n              \"Txtdf\",\n              \"ColorlessTxtdf\",\n              \"keywords\",\n              \"global_explainer_fin\",\n              \"red_green_occurance\",\n              \"red_blue_occurance\",\n              \"red_white_occurance\",\n              \"red_black_occurance\",\n              \"green_red_occurance\", \n              \"green_blue_occurance\",\n              \"green_white_occurance\",\n              \"green_black_occurance\",\n              \"blue_red_occurance\",\n              \"blue_green_occurance\",\n              \"blue_white_occurance\",\n              \"blue_black_occurance\",\n              \"white_red_occurance\",\n              \"white_blue_occurance\",\n              \"white_green_occurance\",\n              \"white_black_occurance\",\n              \"black_red_occurance\",\n              \"black_blue_occurance\",\n              \"black_white_occurance\",\n              \"black_green_occurance\",\n              \"colorless_red_occurance\",\n              \"colorless_blue_occurance\",\n              \"colorless_green_occurance\",\n              \"colorless_white_occurance\",\n              \"colorless_black_occurance\"\n              ), \n       file=here::here(\"Data\",\"Cleaned\",\"MTGDashData.RDA\"))\n} else{\n  print(fortune())\n}\n\n\nEnd\nsources: all data except keywords from https://docs.magicthegathering.io/ using the python SDK v 1.3.1 (https://github.com/MagicTheGathering/mtg-sdk-python) keywords data from https://scryfall.com/docs/api\n\n\n Back to top"
  },
  {
    "objectID": "Notebooks/M5Forecasting.html",
    "href": "Notebooks/M5Forecasting.html",
    "title": "M5 Time Series Prediction",
    "section": "",
    "text": "Code# datarefresh &lt;- FALSE\nif (exists(\"startrun\")) {\n  print(fortune())\n} else {\n  source(here::here(\"Scripts\", \"starthere.R\"))\n}\n\nLoading required package: renv\n\n\n\nAttaching package: 'renv'\n\n\nThe following objects are masked from 'package:stats':\n\n    embed, update\n\n\nThe following objects are masked from 'package:utils':\n\n    history, upgrade\n\n\nThe following objects are masked from 'package:base':\n\n    autoload, load, remove\n\n\n* The library is already synchronized with the lockfile.\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n✖ purrr::modify() masks renv::modify()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n── Attaching packages ────────────────────────────────────── tidymodels 1.1.0 ──\n\n✔ broom        1.0.4     ✔ rsample      1.1.1\n✔ dials        1.2.0     ✔ tune         1.1.1\n✔ infer        1.0.4     ✔ workflows    1.1.3\n✔ modeldata    1.1.0     ✔ workflowsets 1.0.1\n✔ parsnip      1.1.0     ✔ yardstick    1.2.0\n✔ recipes      1.0.6     \n\n── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──\n✖ scales::discard() masks purrr::discard()\n✖ dplyr::filter()   masks stats::filter()\n✖ recipes::fixed()  masks stringr::fixed()\n✖ dplyr::lag()      masks stats::lag()\n✖ purrr::modify()   masks renv::modify()\n✖ yardstick::spec() masks readr::spec()\n✖ recipes::step()   masks stats::step()\n✖ recipes::update() masks renv::update(), stats::update()\n• Use suppressPackageStartupMessages() to eliminate package startup messages\n\n\nAttaching package: 'reticulate'\n\n\nThe following object is masked from 'package:renv':\n\n    use_python\n\n\n── Attaching packages ────────────────────────────────────────────── fpp3 0.5 ──\n\n✔ tsibble     1.1.3     ✔ fable       0.3.3\n✔ tsibbledata 0.4.1     ✔ fabletools  0.3.3\n✔ feasts      0.3.1     \n\n── Conflicts ───────────────────────────────────────────────── fpp3_conflicts ──\n✖ fabletools::accuracy()    masks yardstick::accuracy()\n✖ lubridate::date()         masks base::date()\n✖ scales::discard()         masks purrr::discard()\n✖ dplyr::filter()           masks stats::filter()\n✖ fabletools::generate()    masks infer::generate()\n✖ fabletools::hypothesize() masks infer::hypothesize()\n✖ tsibble::intersect()      masks base::intersect()\n✖ tsibble::interval()       masks lubridate::interval()\n✖ dplyr::lag()              masks stats::lag()\n✖ purrr::modify()           masks renv::modify()\n✖ fabletools::null_model()  masks parsnip::null_model()\n✖ tsibble::setdiff()        masks base::setdiff()\n✖ tsibble::union()          masks base::union()\n\n\nAttaching package: 'seasonal'\n\n\nThe following object is masked from 'package:tibble':\n\n    view\n\n\n\nAttaching package: 'modeltime'\n\n\nThe following object is masked from 'package:seasonal':\n\n    trend\n\n\n\nAttaching package: 'rules'\n\n\nThe following object is masked from 'package:dials':\n\n    max_rules\n\n\n\nAttaching package: 'discrim'\n\n\nThe following object is masked from 'package:dials':\n\n    smoothness\n\n\nRegistered S3 method overwritten by 'inum':\n  method          from   \n  format.interval tsibble\n\nWelcome to DALEX (version: 2.4.3).\nFind examples and detailed introduction at: http://ema.drwhy.ai/\n\n\n\nAttaching package: 'DALEX'\n\n\nThe following object is masked from 'package:dplyr':\n\n    explain\n\n\n\nAttaching package: 'qacDR'\n\n\nThe following objects are masked from 'package:qacBase':\n\n    normalize, standardize\n\n\n\nAttaching package: 'plotly'\n\n\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n\n\nThe following object is masked from 'package:stats':\n\n    filter\n\n\nThe following object is masked from 'package:graphics':\n\n    layout\n\n\nLoading required package: Matrix\n\n\nAttaching package: 'Matrix'\n\n\nThe following objects are masked from 'package:tidyr':\n\n    expand, pack, unpack\n\n\n\nAttaching package: 'arules'\n\n\nThe following object is masked from 'package:tictoc':\n\n    size\n\n\nThe following object is masked from 'package:recipes':\n\n    discretize\n\n\nThe following object is masked from 'package:dplyr':\n\n    recode\n\n\nThe following objects are masked from 'package:base':\n\n    abbreviate, write\n\n\nLoading required package: colorspace\n\nLoading required package: grid\n\nVIM is ready to use.\n\n\nSuggestions and bug-reports can be submitted at: https://github.com/statistikat/VIM/issues\n\n\nAttaching package: 'VIM'\n\n\nThe following object is masked from 'package:recipes':\n\n    prepare\n\n\nThe following object is masked from 'package:datasets':\n\n    sleep\n\n\n[conflicted] Will prefer base::trunc over any other package.\n[conflicted] Will prefer tictoc::size over any other package.\n[conflicted] Will prefer base::setdiff over any other package.\n\nCodelevel1 &lt;- \"total\" \nlevel2 &lt;- \"cat_id\"\nlevel3 &lt;- \"dept_id\"\nlevel4 &lt;- \"store_id\"\nlevel5 &lt;- \"item_id\"\n\n\ndatarefresh &lt;- FALSE\n\n\nif (exists(\"cleanrun\")) {\n  print(fortune())\n} else {\n  source(here::here(\"Scripts\", \"M5clean.R\"))\n}\n\n\nI plan to fix this - the report is just in case I forget or get hit by a bus.\n   -- Ross Ihaka (reporting a bug in persp)\n      R-help (October 2003)\n\n\nRows: 679350 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (6): item_id, dept_id, cat_id, store_id, state_id, total\ndbl  (2): day, sold\ndate (1): date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\nRows: 30490 Columns: 5\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): item_id, dept_id, cat_id, store_id, state_id\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n`summarise()` has grouped output by 'ds', 'total', 'cat_id', 'dept_id', 'store_id'. You can override using the `.groups` argument.\n\nCodeunique_days &lt;- length(ts %&gt;% as_tibble() %&gt;% select(ds) %&gt;% distinct() %&gt;% pull()) \nunique_items &lt;- length(ts %&gt;% as_tibble() %&gt;% select(item_id) %&gt;% distinct() %&gt;% pull())"
  },
  {
    "objectID": "Notebooks/M5Forecasting.html#sources",
    "href": "Notebooks/M5Forecasting.html#sources",
    "title": "M5 Time Series Prediction",
    "section": "Sources",
    "text": "Sources\nData: - https://github.com/Mcompetitions/M5-methods accessed December 1st\nMath and major packages:\nHyndman, R.J., & Athanasopoulos, G. (2021) Forecasting: principles and practice, 3rd edition, OTexts: Melbourne, Australia. OTexts.com/fpp3. Accessed on October 10, 2023.\nMitchell O’Hara-Wild, Rob Hyndman and Earo Wang (2023). fable: Forecasting Models for Tidy Time Series. R package version 0.3.3. https://CRAN.R-project.org/package=fable\nWickramasuriya, S. L., Athanasopoulos, G., & Hyndman, R. J. (2019). Optimal forecast reconciliation for hierarchical and grouped time series through trace minimization. Journal of the American Statistical Association, 114(526), 804–819. DOI"
  },
  {
    "objectID": "Notebooks/M5Presentation.html#context",
    "href": "Notebooks/M5Presentation.html#context",
    "title": "M5 Forecast Predictions",
    "section": "Context",
    "text": "Context\n\nWhat is the M5 Accuracy Competition?\n\nM competitions have a 40 year history\nAim to assess how to improve forecasting\n\nDataset from Walmart’s hierarchical unit sales\n3049 unique items, when accounting for combinations with higher levels total of 42,840 time series in data."
  },
  {
    "objectID": "Notebooks/M5Presentation.html#general-look-at-the-data",
    "href": "Notebooks/M5Presentation.html#general-look-at-the-data",
    "title": "M5 Forecast Predictions",
    "section": "General Look at the Data",
    "text": "General Look at the Data\nThere are 1941 days worth of data and 35 unique items in the subset of the dataset used for analysis. The data was restricted to a random sample of 10 items per department as this is meant to just be a demonstration of what is possible.\n\n\n\n\n\n\n\nThere might be some seasonality, and there’s certainly a trend (though it isn’t perfectly linear)"
  },
  {
    "objectID": "Notebooks/M5Presentation.html#general-look-at-the-data-1",
    "href": "Notebooks/M5Presentation.html#general-look-at-the-data-1",
    "title": "M5 Forecast Predictions",
    "section": "General Look at the Data",
    "text": "General Look at the Data\n\n\nThere is moderately strong weekly seasonality and strong trend for a few of the departments,\nThe strength of the trend and seasonality seem to differ, so the data will likely benefit from using different models based on the time series."
  },
  {
    "objectID": "Notebooks/M5Presentation.html#baseline-model",
    "href": "Notebooks/M5Presentation.html#baseline-model",
    "title": "M5 Forecast Predictions",
    "section": "Baseline Model",
    "text": "Baseline Model\n\n\n\nMean Forecast\n\nPredicts the mean for each item for every future point in time.\n\n\n\n\nBest Fit Forecast\n\nUses both traditional time series and machine learning methods\nCreates a forecast for every item and picks the best based on RMSE"
  },
  {
    "objectID": "Notebooks/M5Presentation.html#why-it-didnt-work",
    "href": "Notebooks/M5Presentation.html#why-it-didnt-work",
    "title": "M5 Forecast Predictions",
    "section": "Why It Didn’t Work",
    "text": "Why It Didn’t Work\n\nThis data is low volume intermittent demand at granular levels\n\nMost traditional forecasting methods (and many ML ones) assume continuous data, and this assumption is not met by this data at the item level.\n\nLow volume and intermittent demand data is notoriously difficult to forecast"
  },
  {
    "objectID": "Notebooks/M5Presentation.html#one-potential-solution",
    "href": "Notebooks/M5Presentation.html#one-potential-solution",
    "title": "M5 Forecast Predictions",
    "section": "One potential solution",
    "text": "One potential solution\n\nHierarchical Forecasting\n\nCreates a forecast for every node 1 for every level in the hierarchy\nCurrent iteration uses minimum trace optimization based on in-sample covariance for reconciliation 2.\n\n\nAt the bottom level this would be each item, at the second it would be each store, and so forthExplanation of reconciliation in appendix"
  },
  {
    "objectID": "Notebooks/M5Presentation.html#initial-results---region",
    "href": "Notebooks/M5Presentation.html#initial-results---region",
    "title": "M5 Forecast Predictions",
    "section": "Initial Results - Region",
    "text": "Initial Results - Region\n\nCategory 1Category 2Category 3\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFor the most part, it seems as though all of the forecasts are reasonable, although they seem to sharply drop off at the last date for unclear reasons. It’s possible there’s an error in the code somewhere, this will require further investigation."
  },
  {
    "objectID": "Notebooks/M5Presentation.html#initial-results---state",
    "href": "Notebooks/M5Presentation.html#initial-results---state",
    "title": "M5 Forecast Predictions",
    "section": "Initial Results - State",
    "text": "Initial Results - State\n\nState 1State 2State 3\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThese forecasts seem to be missing something. The ETS and Croston are too flat, but the best fit, STLs, and stepwise ARIMA don’t quite match up with the most recent weeks. There is room for improvement here, but they aren’t excessively unreasonable."
  },
  {
    "objectID": "Notebooks/M5Presentation.html#initial-results---models",
    "href": "Notebooks/M5Presentation.html#initial-results---models",
    "title": "M5 Forecast Predictions",
    "section": "Initial Results - Models",
    "text": "Initial Results - Models\n\nRMSEMAE\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOverall, the MAE and RMSE tell a similar story. The STLs seem to overall be the best forecast for many of the items, and the mean forecast is also often the best forecast for some of these items.\nThe overall RMSE for the reconciled forecast is 2.54, which is a 52.29% improvement compared to the baseline forecast."
  },
  {
    "objectID": "Notebooks/M5Presentation.html#reconciliation",
    "href": "Notebooks/M5Presentation.html#reconciliation",
    "title": "M5 Forecast Predictions",
    "section": "Reconciliation",
    "text": "Reconciliation\n\nFour main options\n\nTop-down\n\n\nloses information\nreliable at aggregate level\n\n\nBottom-up\n\n\nnoisy\ndoes not lose information\n\n\nMiddle-out\n\n\nhappy medium between top-down and bottom-ups\n\n\nMinT\n\n\nmore computationally demanding\nlikely to be more accurate at all levels"
  },
  {
    "objectID": "Notebooks/M5Presentation.html#sample-hierarchy",
    "href": "Notebooks/M5Presentation.html#sample-hierarchy",
    "title": "M5 Forecast Predictions",
    "section": "Sample Hierarchy",
    "text": "Sample Hierarchy\n\n\n\n\n\n\nG\n\n\n\nUnited_States\n\nUnited_States\n\n\n\nSouth_Region\n\nSouth_Region\n\n\n\nUnited_States-&gt;South_Region\n\n\n\n\n\nNortheast_Region\n\nNortheast_Region\n\n\n\nUnited_States-&gt;Northeast_Region\n\n\n\n\n\nTennessee\n\nTennessee\n\n\n\nKnox_County\n\nKnox_County\n\n\n\nTennessee-&gt;Knox_County\n\n\n\n\n\nHamilton_County\n\nHamilton_County\n\n\n\nTennessee-&gt;Hamilton_County\n\n\n\n\n\nFlorida\n\nFlorida\n\n\n\nDeSoto_County\n\nDeSoto_County\n\n\n\nFlorida-&gt;DeSoto_County\n\n\n\n\n\nConnecticut\n\nConnecticut\n\n\n\nMiddlesex_County\n\nMiddlesex_County\n\n\n\nConnecticut-&gt;Middlesex_County\n\n\n\n\n\nHartford_County\n\nHartford_County\n\n\n\nConnecticut-&gt;Hartford_County\n\n\n\n\n\nSouth_Region-&gt;Tennessee\n\n\n\n\n\nSouth_Region-&gt;Florida\n\n\n\n\n\nNortheast_Region-&gt;Connecticut\n\n\n\n\n\n\n\n\n\nLet’s say historically each node is split equally between the lower nodes, e.g. half of the contracts in the United States go to the Southern Region and half go to the Northeastern Region"
  },
  {
    "objectID": "Notebooks/M5Presentation.html#reconciliation---top-down",
    "href": "Notebooks/M5Presentation.html#reconciliation---top-down",
    "title": "M5 Forecast Predictions",
    "section": "Reconciliation - Top-down",
    "text": "Reconciliation - Top-down\n\n\n\n\n\n\nG\n\n\n\n2\n\nSouth Region\n\n\n\n4\n\nTennessee\n\n\n\n2-&gt;4\n\n\n\n\n\n5\n\nFlorida\n\n\n\n2-&gt;5\n\n\n\n\n\n3\n\nNortheast Region\n\n\n\n6\n\nConnecticut\n\n\n\n3-&gt;6\n\n\n\n\n\n7\n\nKnox County\n\n\n\n4-&gt;7\n\n\n\n\n\n8\n\nHamilton County\n\n\n\n4-&gt;8\n\n\n\n\n\n9\n\nDeSoto County\n\n\n\n5-&gt;9\n\n\n\n\n\n10\n\nMiddlesex County\n\n\n\n6-&gt;10\n\n\n\n\n\n11\n\nHartford County\n\n\n\n6-&gt;11\n\n\n\n\n\n1\n\nUnited States\n\n\n\n1-&gt;2\n\n\n\n\n\n1-&gt;3\n\n\n\n\n\n\n\n\n\nForecast at the very top level, then use proportions to divide up the forecasts to lower nodes.\n\n\nYou can use a variety of methods to divy up the forecasts, the most common I’ve seen are structural and historical. With the structural method, you look at how the hierarchy is constructed and use that to determine the proportions. With the historical method, you can look at a time period based on your use case (I’ve mostly seen the whole time period used, but there are cases where the data is weird and has to be dealt with in other ways) to see how things have been divvied up in the past."
  },
  {
    "objectID": "Notebooks/M5Presentation.html#reconciliation---bottom-up",
    "href": "Notebooks/M5Presentation.html#reconciliation---bottom-up",
    "title": "M5 Forecast Predictions",
    "section": "Reconciliation - Bottom-up",
    "text": "Reconciliation - Bottom-up\n\n\n\n\n\n\nG\n\n\n\n1\n\nUnited States\n\n\n\n2\n\nSouth Region\n\n\n\n1-&gt;2\n\n\n\n\n\n3\n\nNortheast Region\n\n\n\n1-&gt;3\n\n\n\n\n\n4\n\nTennessee\n\n\n\n2-&gt;4\n\n\n\n\n\n5\n\nFlorida\n\n\n\n2-&gt;5\n\n\n\n\n\n6\n\nConnecticut\n\n\n\n3-&gt;6\n\n\n\n\n\n7\n\nKnox County\n\n\n\n4-&gt;7\n\n\n\n\n\n8\n\nHamilton County\n\n\n\n4-&gt;8\n\n\n\n\n\n9\n\nDeSoto County\n\n\n\n5-&gt;9\n\n\n\n\n\n10\n\nMiddlesex County\n\n\n\n6-&gt;10\n\n\n\n\n\n11\n\nHartford County\n\n\n\n6-&gt;11\n\n\n\n\n\n\n\n\n\nForecast at the bottom level, then just add them up to get the higher levels of aggregation."
  },
  {
    "objectID": "Notebooks/M5Presentation.html#reconciliation---middle-out",
    "href": "Notebooks/M5Presentation.html#reconciliation---middle-out",
    "title": "M5 Forecast Predictions",
    "section": "Reconciliation - Middle-out",
    "text": "Reconciliation - Middle-out\n\n\n\n\n\n\nG\n\n\n\n1\n\nUnited States\n\n\n\n2\n\nSouth Region\n\n\n\n1-&gt;2\n\n\n\n\n\n3\n\nNortheast Region\n\n\n\n1-&gt;3\n\n\n\n\n\n4\n\nTennessee\n\n\n\n2-&gt;4\n\n\n\n\n\n5\n\nFlorida\n\n\n\n2-&gt;5\n\n\n\n\n\n6\n\nConnecticut\n\n\n\n3-&gt;6\n\n\n\n\n\n7\n\nKnox County\n\n\n\n8\n\nHamilton County\n\n\n\n9\n\nDeSoto County\n\n\n\n10\n\nMiddlesex County\n\n\n\n11\n\nHartford County\n\n\n\n4-&gt;7\n\n\n\n\n\n4-&gt;8\n\n\n\n\n\n5-&gt;9\n\n\n\n\n\n6-&gt;10\n\n\n\n\n\n6-&gt;11\n\n\n\n\n\n\n\n\n\nForecast at some point in the middle, then add up to get higher levels of aggregation, and use proportions to divide up the forecasts to lower nodes. For this example we’ll use historical proportions."
  },
  {
    "objectID": "Notebooks/M5Presentation.html#reconciliation---mint",
    "href": "Notebooks/M5Presentation.html#reconciliation---mint",
    "title": "M5 Forecast Predictions",
    "section": "Reconciliation - MinT",
    "text": "Reconciliation - MinT\n\n\n\n\n\n\nG\n\n\n\nTennessee\n\nTennessee\n\n\n\nKnox_County\n\nKnox_County\n\n\n\nTennessee-&gt;Knox_County\n\n\n\n\n\nHamilton_County\n\nHamilton_County\n\n\n\nTennessee-&gt;Hamilton_County\n\n\n\n\n\nFlorida\n\nFlorida\n\n\n\nDeSoto_County\n\nDeSoto_County\n\n\n\nFlorida-&gt;DeSoto_County\n\n\n\n\n\nConnecticut\n\nConnecticut\n\n\n\nMiddlesex_County\n\nMiddlesex_County\n\n\n\nConnecticut-&gt;Middlesex_County\n\n\n\n\n\nHartford_County\n\nHartford_County\n\n\n\nConnecticut-&gt;Hartford_County\n\n\n\n\n\nUnited_States\n\nUnited_States\n\n\n\nSouth_Region\n\nSouth_Region\n\n\n\nUnited_States-&gt;South_Region\n\n\n\n\n\nNortheast_Region\n\nNortheast_Region\n\n\n\nUnited_States-&gt;Northeast_Region\n\n\n\n\n\nSouth_Region-&gt;Tennessee\n\n\n\n\n\nSouth_Region-&gt;Florida\n\n\n\n\n\nNortheast_Region-&gt;Connecticut\n\n\n\n\n\n\n\n\n\nForecast at every level and then use linear algebra to minimize the errors at every level. It does this by minimizing the trace of a matrix, and there are several matrices you can use for this based on the data you have. If you want to learn more I’d suggest checking out forecasting principles and practices 3. It gives a good overview of the subject, and from there you can choose if you want to read the papers on it (unfortunately I haven’t found any good videos that explain the math behind it to recommend)."
  },
  {
    "objectID": "Notebooks/M5Presentation.html#method",
    "href": "Notebooks/M5Presentation.html#method",
    "title": "M5 Forecast Predictions",
    "section": "Method",
    "text": "Method\n-Back tested all plausible models\n-Fitted values were rounded\n-Negative fitted values were changed to zero"
  },
  {
    "objectID": "Notebooks/M5Presentation.html#models-tested",
    "href": "Notebooks/M5Presentation.html#models-tested",
    "title": "M5 Forecast Predictions",
    "section": "Models tested",
    "text": "Models tested\n\nstepwise ARIMA (using the fable package, fits the best ARIMA based on a chosen metric)\nETS\nRandomWalk\nSeasonalNaive\nCroston\nSTLs\n\nSeason 7, trend 51\nSeason 7, trend 3\nSeason 7, trend 121\nSeason 7, trend 91\nfable default\n\nPoisson regression\nZero inflated Poisson regression\nXGBoost"
  },
  {
    "objectID": "Notebooks/M5Presentation.html#sources",
    "href": "Notebooks/M5Presentation.html#sources",
    "title": "M5 Forecast Predictions",
    "section": "Sources",
    "text": "Sources\nData: - https://github.com/Mcompetitions/M5-methods accessed December 1st\nMath and major packages:\nHyndman, R.J., & Athanasopoulos, G. (2021) Forecasting: principles and practice, 3rd edition, OTexts: Melbourne, Australia. OTexts.com/fpp3. Accessed on October 10, 2023.\nMitchell O’Hara-Wild, Rob Hyndman and Earo Wang (2023). fable: Forecasting Models for Tidy Time Series. R package version 0.3.3. https://CRAN.R-project.org/package=fable\nWickramasuriya, S. L., Athanasopoulos, G., & Hyndman, R. J. (2019). Optimal forecast reconciliation for hierarchical and grouped time series through trace minimization. Journal of the American Statistical Association, 114(526), 804–819. DOI\nTo see my code for this, check out my notebook here"
  },
  {
    "objectID": "Notebooks/memeSurvivalAnalysisPost.html",
    "href": "Notebooks/memeSurvivalAnalysisPost.html",
    "title": "Survival Analysis Meme Overview",
    "section": "",
    "text": "Survival analysis can be broadly understood as measuring the time until some event occurs when there is censored data. Censored data in this case refers to data for which you do not know the exact time an event occurs, but you assume that given enough time it will occur (or it already has but you only know it occurred before some date). For example, let’s say you have a monthly book club with a few friends. You can probably assume everyone will eventually finish whatever book you’re reading as a group, but maybe a few of them haven’t had a chance to by the time you meet. You know it took them at least a month to read it, but you don’t know exactly how much longer it will take for them to complete the book. Let’s say a few people want to move to a weekly schedule because they finish the books in a week. If you try to determine how long it takes the group to finish a book by only looking at the people who have finished the book you aren’t accounting for your friends who are not able to finish books as quickly and that will bias whether or not you think weekly meetings are reasonable.\n\n\nFor my Experimental Design class, I created an experiment to test if seeing a meme would affect how quickly a person would solve a riddle during a LARP (Live Action Role Play) game. I did not anticipate some people giving up on a few of the riddles, so I had to reconsider my initial plan to use a simple linear regression. My professor suggested that I could instead analyze if priming with memes affected whether or not a person could solve the riddles or potentially look at using survival analysis. Naturally, I decided to try to teach myself survival analysis, and I was able to produce a simple Kaplan-Meier curve. I expected priming with memes to affect a how quickly a person could solve the riddles, and while the results were not statistically significant, there is a visual difference in the curves of the primed and not primed groups.\n\n\n\n\nI just finished taking a course on survival analysis, so I decided to revisit this analysis. Given the wildly varying difficulty levels of the riddles, I decided to use a Cox PH model so I could control for the riddle in the analysis. I also used INLA to produce a second Cox PH model using Bayesian methods to quantify the uncertainty in my model (I’m sure it will surprise no one that a sample size of 13 produced a model with a moderate at best level of uncertainty).\n\nIf you want to learn more, here is my code with some comments from an updated version I did senior year in my spare time and here is the presentation I gave in class."
  },
  {
    "objectID": "Notebooks/memeSurvivalAnalysisPost.html#survival-analysis-as-time-to-event-analysis",
    "href": "Notebooks/memeSurvivalAnalysisPost.html#survival-analysis-as-time-to-event-analysis",
    "title": "Survival Analysis Meme Overview",
    "section": "",
    "text": "Survival analysis can be broadly understood as measuring the time until some event occurs when there is censored data. Censored data in this case refers to data for which you do not know the exact time an event occurs, but you assume that given enough time it will occur (or it already has but you only know it occurred before some date). For example, let’s say you have a monthly book club with a few friends. You can probably assume everyone will eventually finish whatever book you’re reading as a group, but maybe a few of them haven’t had a chance to by the time you meet. You know it took them at least a month to read it, but you don’t know exactly how much longer it will take for them to complete the book. Let’s say a few people want to move to a weekly schedule because they finish the books in a week. If you try to determine how long it takes the group to finish a book by only looking at the people who have finished the book you aren’t accounting for your friends who are not able to finish books as quickly and that will bias whether or not you think weekly meetings are reasonable.\n\n\nFor my Experimental Design class, I created an experiment to test if seeing a meme would affect how quickly a person would solve a riddle during a LARP (Live Action Role Play) game. I did not anticipate some people giving up on a few of the riddles, so I had to reconsider my initial plan to use a simple linear regression. My professor suggested that I could instead analyze if priming with memes affected whether or not a person could solve the riddles or potentially look at using survival analysis. Naturally, I decided to try to teach myself survival analysis, and I was able to produce a simple Kaplan-Meier curve. I expected priming with memes to affect a how quickly a person could solve the riddles, and while the results were not statistically significant, there is a visual difference in the curves of the primed and not primed groups.\n\n\n\n\nI just finished taking a course on survival analysis, so I decided to revisit this analysis. Given the wildly varying difficulty levels of the riddles, I decided to use a Cox PH model so I could control for the riddle in the analysis. I also used INLA to produce a second Cox PH model using Bayesian methods to quantify the uncertainty in my model (I’m sure it will surprise no one that a sample size of 13 produced a model with a moderate at best level of uncertainty).\n\nIf you want to learn more, here is my code with some comments from an updated version I did senior year in my spare time and here is the presentation I gave in class."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "I am a Data Analyst with one year of job experience. I’ve previously worked for Vroom and in a lab focusing on quantitative analysis. I have experience using a variety of techniques to analyze data, and I am always excited to learn more. I enjoy solving complex problems, often using visualizations which help to present complicated data in an accessible manner.\n\n\n Back to top"
  },
  {
    "objectID": "projects.html",
    "href": "projects.html",
    "title": "Projects",
    "section": "",
    "text": "Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Author\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\n\n\n\n\n\nM5 Forecast Predictions\n\n\n\npresentation\n\n\ntime series\n\n\nmachine learning\n\n\n\nA project to practice predicting low interval, zero-inflated data with hierarchical reconcilliation\n\n\n\nKillian Cimino\n\n\nDec 1, 2023\n\n\n\n\n\n\n\n\n\n\n\n\nMagic the Gathering Dashboard\n\n\n\ndashboard\n\n\nvisualization\n\n\n\nA project looking at the general properties of the different colors in Magic the Gathering and what contributes to total mana cost\n\n\n\nKillian Cimino\n\n\nNov 1, 2023\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSurvival Analysis Meme Overview\n\n\n\nSurvival Analysis\n\n\nOlder Work\n\n\nBayesian\n\n\n\nSurvival analysis has an unfortunate reputation as a morbid topic, likely due in part to its relative popularity in medical literature and testing failure rates in…\n\n\n\nKillian Cimino\n\n\nMay 4, 2022\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFire Spinning Casserole Discourse Graphs\n\n\n\nData Viz\n\n\nOlder Work\n\n\nBayesian\n\n\nPlotly\n\n\n\nEach year Prometheus (the fire spinning club I’m in) has an event called Discourse. This year the topic was “casseroles,” and people were encouraged to argue about what…\n\n\n\nKillian Cimino\n\n\nApr 18, 2022\n\n\n\n\n\n\n\n\nNo matching items\n\n Back to top"
  }
]